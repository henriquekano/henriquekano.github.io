<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script
  src="https://code.jquery.com/jquery-3.1.1.min.js"
  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
  crossorigin="anonymous"></script>
</head>
<body>
	<yay><h2 id="objeto-transaction">Objeto <code class="prettyprint">transaction</code></h2><blockquote>
<p>Objeto transaction</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processing"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testeDeAPI"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-25T21:54:56.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-25T21:54:56.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">310000</span><span class="p">,</span><span class="w">
  </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">184220</span><span class="p">,</span><span class="w">
  </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://requestb.in/pkt7pgpk"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit_card"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api_key"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"189.8.94.42"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card_ci6l9fx8f0042rt16rtb477gj"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-25T21:54:56.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-25T21:54:56.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mastercard"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Api Customer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"548045"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3123"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HSiLJan2nqwn"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"nomeData"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API Doc Test"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"idData"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><p>Ao criar ou atualizar uma transação, este será o objeto que você irá receber como resposta em cada etapa do processo de efetivação da transação.</p><table><thead>
<tr>
<th style="text-align: right">Propriedade</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>object</strong><br> String</td>
<td style="text-align: left">Nome do tipo do objeto criado/modificado. <br> <strong>Valor retornado</strong>: <code class="prettyprint">transaction</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>status</strong><br> String</td>
<td style="text-align: left">Para cada atualização no processamento da transação, esta propriedade será alterada, e o objeto <code class="prettyprint">transaction</code> retornado como resposta através da sua URL de <em>postback</em> ou após o término do processamento da ação atual. <br> <strong>Valores possíveis</strong>: <code class="prettyprint">processing</code>, <code class="prettyprint">authorized</code>, <code class="prettyprint">paid</code>, <code class="prettyprint">refunded</code>, <code class="prettyprint">waiting_payment</code>, <code class="prettyprint">pending_refund</code>, <code class="prettyprint">refused</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>status_reason</strong><br> String</td>
<td style="text-align: left">Motivo/agente responsável pela validação ou anulação da transação. <br> <strong>Valores possíveis</strong>: <code class="prettyprint">acquirer</code>, <code class="prettyprint">antifraud</code>, <code class="prettyprint">internal_error</code>, <code class="prettyprint">no_acquirer</code>, <code class="prettyprint">acquirer_timeout</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>acquirer_name</strong><br> String</td>
<td style="text-align: left">Adquirente responsável pelo processamento da transação. <br> <strong>Valores possíveis</strong>: <code class="prettyprint">development</code> (em ambiente de testes), <code class="prettyprint">pagarme</code> (adquirente Pagar.me), <code class="prettyprint">stone</code>, <code class="prettyprint">cielo</code>, <code class="prettyprint">rede</code>, <code class="prettyprint">mundipagg</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>acquirer_response_code</strong><br> String</td>
<td style="text-align: left">Mensagem de resposta do adquirente referente ao status da transação.</td>
</tr>
<tr>
<td style="text-align: right"><strong>authorization_code</strong><br> String</td>
<td style="text-align: left">Código de autorização retornado pela bandeira.</td>
</tr>
<tr>
<td style="text-align: right"><strong>soft_descriptor</strong><br> String</td>
<td style="text-align: left">Texto que irá aparecer na fatura do cliente depois do nome da loja. <br> <strong>OBS</strong>: Limite de 13 caracteres.</td>
</tr>
<tr>
<td style="text-align: right"><strong>tid</strong><br> String</td>
<td style="text-align: left">Código que identifica a transação no adquirente.</td>
</tr>
<tr>
<td style="text-align: right"><strong>nsu</strong><br> String</td>
<td style="text-align: left">Código que identifica a transação no adquirente.</td>
</tr>
<tr>
<td style="text-align: right"><strong>date_created</strong><br> String</td>
<td style="text-align: left">Data de criação da transação no formato ISODate</td>
</tr>
<tr>
<td style="text-align: right"><strong>date_updated</strong><br> String</td>
<td style="text-align: left">Data de atualização da transação no formato ISODate</td>
</tr>
<tr>
<td style="text-align: right"><strong>amount</strong><br> Number</td>
<td style="text-align: left">Valor, em centavos, da transação</td>
</tr>
<tr>
<td style="text-align: right"><strong>installments</strong><br> Number</td>
<td style="text-align: left">Número de parcelas/prestações a serem cobradas</td>
</tr>
<tr>
<td style="text-align: right"><strong>id</strong><br> Number</td>
<td style="text-align: left">Número identificador da transação</td>
</tr>
<tr>
<td style="text-align: right"><strong>cost</strong><br> Number</td>
<td style="text-align: left">Custo da transação para o lojista</td>
</tr>
<tr>
<td style="text-align: right"><strong>postback_url</strong><br> String</td>
<td style="text-align: left">URL (endpoint) do sistema integrado a Pagar.me que receberá as respostas a cada atualização do processamento da transação</td>
</tr>
<tr>
<td style="text-align: right"><strong>payment_method</strong><br> String</td>
<td style="text-align: left">Método de pagamento possíveis: <code class="prettyprint">credit_card</code> e <code class="prettyprint">boleto</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>boleto_url</strong><br> String</td>
<td style="text-align: left">URL do boleto para impressão</td>
</tr>
<tr>
<td style="text-align: right"><strong>boleto_barcode</strong><br> String</td>
<td style="text-align: left">Código de barras do boleto gerado na transação</td>
</tr>
<tr>
<td style="text-align: right"><strong>boleto_expiration_date</strong><br> String</td>
<td style="text-align: left">Data de expiração do boleto (em ISODate)</td>
</tr>
<tr>
<td style="text-align: right"><strong>referer</strong><br> String</td>
<td style="text-align: left">Mostra se a transação foi criada utilizando a API Key ou Encryption Key.</td>
</tr>
<tr>
<td style="text-align: right"><strong>ip</strong><br> String</td>
<td style="text-align: left">IP de origem que criou a transção, podendo ser ou do seu cliente (quando criado via checkout ou utilizando card_hash) ou do servidor.</td>
</tr>
<tr>
<td style="text-align: right"><strong>subscription_id</strong><br> Number</td>
<td style="text-align: left">Caso essa transação tenha sido originada na cobrança de uma assinatura, o <code class="prettyprint">id</code> desta será o valor dessa propriedade</td>
</tr>
<tr>
<td style="text-align: right"><strong>phone</strong><br> Object</td>
<td style="text-align: left">Objeto com dados do telefone do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>address</strong><br> Object</td>
<td style="text-align: left">Objeto com dados do endereço do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer</strong><br> Object</td>
<td style="text-align: left">Objeto com dados do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>card</strong><br> Object</td>
<td style="text-align: left">Objeto com dados do cartão do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>metadata</strong><br> Object</td>
<td style="text-align: left">Objeto com dados adicionais do cliente/produto/serviço vendido</td>
</tr>
</tbody></table><div name="criando-uma-transacao" data-unique="criando-uma-transacao"></div></yay>
VM119:14 <yay><h2 id="criando-uma-transacao">Criando uma transação</h2><blockquote>
<p>POST https://api.pagar.me/1/transactions</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X POST https://api.pagar.me/1/transactions <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> <span class="se">\</span>
-d <span class="s1">'amount=3100'</span> <span class="se">\</span>
-d <span class="s1">'card_id=card_ci6l9fx8f0042rt16rtb477gj'</span> <span class="se">\</span>
-d <span class="s1">'postback_url=http://requestb.in/pkt7pgpk'</span> <span class="se">\</span>
-d <span class="s1">'metadata[idProduto]=13933139'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>

<span class="n">transaction</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Transaction</span><span class="p">.</span><span class="nf">new</span><span class="p">({</span>
    <span class="ss">:amount</span> <span class="o">=&gt;</span> <span class="mi">3100</span><span class="p">,</span>
    <span class="ss">:card_id</span> <span class="o">=&gt;</span> <span class="s2">"card_ci6l9fx8f0042rt16rtb477gj"</span><span class="p">,</span>
    <span class="ss">:postback_url</span> <span class="o">=&gt;</span> <span class="s2">"http://requestb.in/pkt7pgpk"</span><span class="p">,</span>
    <span class="ss">:metadata</span><span class="p">[</span><span class="n">idProduto</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">13933139</span>
<span class="p">})</span>

<span class="n">transaction</span><span class="p">.</span><span class="nf">charge</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>

    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$transaction</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PagarMe_Transaction</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
        <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="mi">3100</span><span class="p">,</span>
        <span class="s2">"card_id"</span> <span class="o">=&gt;</span> <span class="s2">"card_ci6l9fx8f0042rt16rtb477gj"</span><span class="p">,</span>
        <span class="s2">"postback_url"</span> <span class="o">=&gt;</span> <span class="s2">"http://requestb.in/pkt7pgpk"</span><span class="p">,</span>
        <span class="s2">"metadata"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s2">"idProduto"</span> <span class="o">=&gt;</span> <span class="mi">13933139</span>
        <span class="p">)</span>
    <span class="p">));</span>

    <span class="nv">$transaction</span><span class="o">-&gt;</span><span class="na">charge</span><span class="p">();</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code><span class="n">PagarMeService</span><span class="p">.</span><span class="n">DefaultApiKey</span> <span class="p">=</span> <span class="s">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Transaction</span><span class="p">();</span>

<span class="n">transaction</span><span class="p">.</span><span class="n">Amount</span> <span class="p">=</span> <span class="m">3100</span><span class="p">;</span>
<span class="n">transaction</span><span class="p">.</span><span class="n">CardId</span> <span class="p">=</span> <span class="s">"card_ci6l9fx8f0042rt16rtb477gj"</span><span class="p">;</span>
<span class="n">transaction</span><span class="p">.</span><span class="n">PostbackUrl</span> <span class="p">=</span> <span class="s">"http://requestb.in/pkt7pgpk"</span><span class="p">;</span>
<span class="n">transaction</span><span class="p">.</span><span class="n">Metadata</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Metadata</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">IdProduto</span> <span class="p">=</span> <span class="m">13933139</span>
<span class="p">};</span>

<span class="n">transaction</span><span class="p">.</span><span class="nf">Save</span><span class="p">();</span>
</code></pre><p>Para fazer uma cobrança, você deve usar a rota <code class="prettyprint">/transactions</code> para criar sua transação, que pode ser feita por cartão de crédito ou por boleto bancário.</p><blockquote>
<p>JSON retornado (exemplo):</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processing"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testeDeAPI"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-25T21:54:56.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-25T21:54:56.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">310000</span><span class="p">,</span><span class="w">
  </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">184220</span><span class="p">,</span><span class="w">
  </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://requestb.in/pkt7pgpk"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit_card"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api_key"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"189.8.94.42"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card_ci6l9fx8f0042rt16rtb477gj"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-25T21:54:56.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-25T21:54:56.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mastercard"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Api Customer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"548045"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3123"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HSiLJan2nqwn"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"idProduto"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13933139"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>amount</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Valor a ser cobrado. Deve ser passado em centavos. Ex: R$ 10.00 = <code class="prettyprint">1000</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>card_hash</strong><br> <span class="required">obrigatório*</span></td>
<td style="text-align: left">Informações do cartão do cliente criptografadas no navegador. <br><strong>OBS</strong>: Apenas para transações de <strong>cartão de crédito</strong> você deve passar <strong>ou</strong> o  <code class="prettyprint">card_hash</code> <strong>ou</strong> o  <code class="prettyprint">card_id</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>card_id</strong><br> <span class="required">obrigatório*</span></td>
<td style="text-align: left">Ao realizar uma transação, retornamos o <code class="prettyprint">card_id</code> do cartão para que nas próximas transações desse cartão possa ser utilizado esse identificador ao invés do <code class="prettyprint">card_hash</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>payment_method</strong><br> default: <code class="prettyprint">credit_card</code></td>
<td style="text-align: left">Aceita dois tipos de pagamentos/valores: <code class="prettyprint">credit_card</code> e <code class="prettyprint">boleto</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>postback_url</strong></td>
<td style="text-align: left">Endpoint do seu sistema que receberá informações a cada atualização da transação. Caso você defina este parâmetro, o processamento da transação se tornará assíncrono.</td>
</tr>
<tr>
<td style="text-align: right"><strong>async</strong> <br> default: <code class="prettyprint">false</code> ou <code class="prettyprint">true</code> caso utilize <code class="prettyprint">postback_url</code></td>
<td style="text-align: left">Utilize <code class="prettyprint">false</code> caso queira utilizar POSTbacks e manter o processamento síncrono de uma transação.</td>
</tr>
<tr>
<td style="text-align: right"><strong>installments</strong><br> mínimo: 1, máximo: 12</td>
<td style="text-align: left">Se o pagamento for boleto, o padrão é 1</td>
</tr>
<tr>
<td style="text-align: right"><strong>boleto_expiration_date</strong><br> default: data atual + 7 dias</td>
<td style="text-align: left">Prazo limite para pagamento do boleto</td>
</tr>
<tr>
<td style="text-align: right"><strong>soft_descriptor</strong></td>
<td style="text-align: left">Descrição que aparecerá na fatura depois do nome da loja. Máximo de 13 caracteres</td>
</tr>
<tr>
<td style="text-align: right"><strong>capture</strong><br> default: <code class="prettyprint">true</code></td>
<td style="text-align: left">Após a autorização de uma transação, você pode escolher se irá capturar ou adiar a captura do valor. Caso opte por postergar a captura, atribuir o valor <code class="prettyprint">false</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>metadata</strong></td>
<td style="text-align: left">Você pode passar dados adicionais na criação da transação para posteriormente filtrar estas na nossa dashboard. Ex: <code class="prettyprint">metadata[ idProduto ]=13933139</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[name]</strong><br> <span class="required">obrigatório* (com antifraude)</span></td>
<td style="text-align: left">Nome completo ou razão social do cliente que está realizando a transação</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[document_number]</strong><br> <span class="required">obrigatório* (com antifraude)</span></td>
<td style="text-align: left">CPF ou CNPJ do cliente, sem separadores</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[email]</strong><br> <span class="required">obrigatório* (com antifraude)</span></td>
<td style="text-align: left">email do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[address][street]</strong><br> <span class="required">obrigatório* (com antifraude)</span></td>
<td style="text-align: left">logradouro (rua, avenida, etc) do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[address][street_number]</strong><br> <span class="required">obrigatório* (com antifraude)</span></td>
<td style="text-align: left">Número da residência/estabelecimento do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[address][complementary]</strong></td>
<td style="text-align: left">complemento do endereço do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[address][neighborhood]</strong><br> <span class="required">obrigatório* (com antifraude)</span></td>
<td style="text-align: left">bairro de localização do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[address][zipcode]</strong><br> <span class="required">obrigatório* (com antifraude)</span></td>
<td style="text-align: left">CEP do imóvel do cliente, sem separadores</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[phone][ddd]</strong><br> <span class="required">obrigatório* (com antifraude)</span></td>
<td style="text-align: left">DDD do telefone do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[phone][number]</strong><br> <span class="required">obrigatório* (com antifraude)</span></td>
<td style="text-align: left">número de telefone do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[sex]</strong><br> <code class="prettyprint">M</code> ou <code class="prettyprint">F</code> (letras maiúsculas)</td>
<td style="text-align: left">sexo do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[born_at]</strong><br> Formato: <code class="prettyprint">MM-DD-AAAA</code></td>
<td style="text-align: left">Data de nascimento do cliente. Ex: 11-02-1985</td>
</tr>
<tr>
<td style="text-align: right"><strong>split_rules</strong></td>
<td style="text-align: left">Esse parâmetro é um <code class="prettyprint">Array</code> que irá conter as regras da divisão do valor transacionado. <br> <strong>OBS</strong>: Caso você deseje incluir mais regras, passe os parâmetros abaixo alterando o índice em <code class="prettyprint">+1</code> para cada nova regra/recebedor</td>
</tr>
<tr>
<td style="text-align: right"><strong>split_rules[n][recipient_id]</strong></td>
<td style="text-align: left">Identificador do <a href="/#recebedores">recebedor</a></td>
</tr>
<tr>
<td style="text-align: right"><strong>split_rules[n][charge_processing_fee]</strong><br> default: <code class="prettyprint">true</code></td>
<td style="text-align: left">Indica se o recebedor vinculado a essa regra de divisão será cobrado pelas taxas da transação</td>
</tr>
<tr>
<td style="text-align: right"><strong>split_rules[n][liable]</strong><br> default: <code class="prettyprint">true</code></td>
<td style="text-align: left">Indica se o recebedor vinculado a essa regra de divisão assumirá o risco da transação, ou seja, possíveis estornos (<em>chargeback</em>)</td>
</tr>
<tr>
<td style="text-align: right"><strong>split_rules[n][percentage]</strong><br> <span class="required">obrigatório*</span></td>
<td style="text-align: left">Define a porcentagem a ser recebida pelo recebedor configurado na regra. <br> <strong>OBS</strong>: se for utilizado a propriedade <code class="prettyprint">percentage</code>, a propriedade <code class="prettyprint">amount</code> não será necessária</td>
</tr>
<tr>
<td style="text-align: right"><strong>split_rules[n][amount]</strong><br> <span class="required">obrigatório*</span></td>
<td style="text-align: left">Define o valor a ser recebido pelo recebedor configurado na regra. <br> <strong>OBS</strong>: se for utilizado a propriedade <code class="prettyprint">amount</code>, a propriedade <code class="prettyprint">percentage</code> não será necessária</td>
</tr>
</tbody></table><aside class="notice"> OBS: Caso você vá usar o recurso antifraude, é obrigatório passar os dados do cliente na hora da criação da transação, como explicado nesse link: https://pagar.me/docs/transactions/#customer-data.</aside><div name="retornando-uma-transacao" data-unique="retornando-uma-transacao"></div></yay>
VM119:14 <yay><h2 id="retornando-uma-transacao">Retornando uma Transação</h2><blockquote>
<p>GET https://api.pagar.me/1/transactions/:id</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/transactions/194351 <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span>

<span class="n">transaction</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Transaction</span><span class="p">.</span><span class="nf">find_by_id</span><span class="p">(</span><span class="s2">"184270"</span><span class="p">)</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>

    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$transaction</span> <span class="o">=</span> <span class="nx">PagarMe_Transaction</span><span class="o">::</span><span class="na">findById</span><span class="p">(</span><span class="s2">"194351"</span><span class="p">);</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code><span class="n">PagarMeService</span><span class="p">.</span><span class="n">DefaultApiKey</span> <span class="p">=</span> <span class="s">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>

<span class="n">var</span> <span class="n">transaction</span> <span class="p">=</span> <span class="n">PagarMeService</span><span class="p">.</span><span class="nf">GetDefaultService</span><span class="p">().</span><span class="n">Transactions</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="s">"194351"</span><span class="p">);</span>
</code></pre><p>Retorna os dados de uma transação realizada.</p><blockquote>
<p>JSON Retornado (exemplo):</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-26T15:35:32.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-26T15:35:47.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">25000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">184270</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
    </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pagar.me"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234 5678"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-02T03:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"session_id"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"189.8.94.42"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">id da transação previamente criada</td>
</tr>
</tbody></table><div name="retornando-transacoes" data-unique="retornando-transacoes"></div></yay>
VM119:14 <yay><h2 id="retornando-transacoes">Retornando transações</h2><blockquote>
<p>GET https://api.pagar.me/1/transactions</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/transactions <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> <span class="se">\</span>
-d <span class="s1">'count=3'</span> <span class="se">\</span>
-d <span class="s1">'page=3'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span>

<span class="n">transactions</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Transaction</span><span class="p">.</span><span class="nf">all</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>

    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$transaction</span> <span class="o">=</span> <span class="nx">PagarMe_Transaction</span><span class="o">::</span><span class="na">all</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code><span class="n">PagarMeService</span><span class="p">.</span><span class="n">DefaultApiKey</span> <span class="p">=</span> <span class="s">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>

<span class="n">var</span> <span class="n">transaction</span> <span class="p">=</span> <span class="n">PagarMeService</span><span class="p">.</span><span class="nf">GetDefaultService</span><span class="p">().</span><span class="n">Transactions</span><span class="p">.</span><span class="nf">FindAll</span><span class="p">(</span><span class="k">new</span> <span class="nf">Transaction</span><span class="p">());</span>
</code></pre><p>Retorna um <code class="prettyprint">Array</code> contendo objetos de transações, ordenadas a partir da transação realizada mais recentemente.</p><blockquote>
<p>JSON Retornado (exemplo):</p>
</blockquote><pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"refused"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"51"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1425933798340</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="mi">1425933798340</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-09T20:43:17.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-09T20:43:18.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">54496</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">185679</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit_card"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"encryption_key"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"179.185.132.108"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card_ci1u3yidd00036t16wkzev8s8"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-10-29T03:12:50.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-07T19:43:08.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"murilo junqueira"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"first_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"411111"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"last_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1111"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEiFgPIQJqXG"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"authorized"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-09T20:41:20.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-09T20:41:20.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">50000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">185676</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-16T03:00:00.126Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"encryption_key"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"177.157.206.15"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"authorized"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"854653"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1425933651790</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="mi">1425933651790</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-09T20:40:51.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-09T20:40:51.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">50000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">185675</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit_card"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"encryption_key"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"177.157.206.15"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card_ci6ttnn2y007n5616jhotcfof"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-03T21:42:58.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-09T20:06:15.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mastercard"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Appleseed"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"first_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"590072"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"last_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4446"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XHLU9UYzU3+x"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>count</strong><br> default: <code class="prettyprint">10</code></td>
<td style="text-align: left">Retorna <code class="prettyprint">n</code> objetos de transação</td>
</tr>
<tr>
<td style="text-align: right"><strong>page</strong><br> default: <code class="prettyprint">1</code></td>
<td style="text-align: left">Útil para implementação de uma paginação de resultados</td>
</tr>
</tbody></table><aside class="notice">OBS: Você pode passar qualquer propriedade e valor presentes nos objetos `transaction` como parâmetro de busca/filtro nesta rota. Ex: `card_last_digits=4242`</aside><div name="gerando-uma-nova-chave-para-encriptacao-do-card_hash" data-unique="gerando-uma-nova-chave-para-encriptacao-do-card_hash"></div></yay>
VM119:14 <yay><h2 id="gerando-uma-nova-chave-para-encriptacao-do-card_hash">Gerando uma nova chave para encriptação do <code class="prettyprint">card_hash</code></h2><blockquote>
<p>GET https://api.pagar.me/1/transactions/card_hash_key</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/transactions/card_hash_key <span class="se">\</span>
-d <span class="s1">'encryption_key=ek_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span>

<span class="n">key</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Transaction</span><span class="p">.</span><span class="nf">generate_card_hash</span><span class="p">()</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>

    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$t</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PagarMe_Transaction</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
      <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="mi">3100</span><span class="p">,</span>
      <span class="s2">"card_id"</span> <span class="o">=&gt;</span> <span class="s2">"card_ci6l9fx8f0042rt16rtb477gj"</span><span class="p">,</span>
      <span class="s2">"postback_url"</span> <span class="o">=&gt;</span> <span class="s2">"http://requestb.in/1ahq78t1"</span><span class="p">,</span>
      <span class="s2">"metadata"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s2">"idProduto"</span> <span class="o">=&gt;</span> <span class="mi">13933139</span>
       <span class="p">)</span>
    <span class="p">));</span>

    <span class="nv">$key</span> <span class="o">=</span> <span class="nv">$t</span><span class="o">-&gt;</span><span class="na">generateCardHash</span><span class="p">();</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Caso você queira/precise criar o <code class="prettyprint">card_hash</code> manualmente, essa rota deverá ser utilizada para obtenção de uma chave pública de encriptação dos dados do cartão de seu cliente.</p><p>Saiba mais sobre como criar um <code class="prettyprint">card_hash</code> <a href="https://pagar.me/docs/capturing-card-data/#capturando-os-dados-em-uma-pgina-web">aqui</a>.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-27T15:44:26.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">111111</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000.0.00.00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"public_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN PUBLIC KEY-----\ -----END PUBLIC KEY-----\ "</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>encryption_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave de encriptação (disponível no seu dashboard)</td>
</tr>
</tbody></table><div name="retornando-as-regras-de-divisao-de-uma-transacao" data-unique="retornando-as-regras-de-divisao-de-uma-transacao"></div></yay>
VM119:14 <yay><h2 id="retornando-as-regras-de-divisao-de-uma-transacao">Retornando as regras de divisão de uma transação</h2><blockquote>
<p>GET https://api.pagar.me/1/transactions/:transaction_id/split_rules</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/transactions/189164/split_rules <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Retorna os dados das regras de divisão do valor transacionado.</p><blockquote>
<p>JSON Retornado (exemplo):</p>
</blockquote><pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"split_rule"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sr_ci7ntawl1001s2m164zrbp7tz"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"recipient_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"re_ci7nhf1ay0007n016wd5t22nl"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charge_processing_fee"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"liable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24T21:26:09.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24T21:26:09.000Z"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"split_rule"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sr_ci7ntawl1001t2m1606u3e0uw"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"recipient_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"re_ci7nheu0m0006n016o5sglg9t"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charge_processing_fee"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"liable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">70</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24T21:26:09.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24T21:26:09.000Z"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:transaction_id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">id da transação previamente criada</td>
</tr>
</tbody></table><div name="retornando-uma-regra-de-divisao-especifica" data-unique="retornando-uma-regra-de-divisao-especifica"></div></yay>
VM119:14 <yay><h2 id="retornando-uma-regra-de-divisao-especifica">Retornando uma regra de divisão específica</h2><blockquote>
<p>GET https://api.pagar.me/1/transactions/:transaction_id/split_rules/:id</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/transactions/189164/split_rules/sr_ci7ntawl1001s2m164zrbp7tz <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Retorna os dados de uma regra de divisão de uma determinada transaçào.</p><blockquote>
<p>JSON Retornado (exemplo):</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"split_rule"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sr_ci7ntawl1001s2m164zrbp7tz"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"recipient_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"re_ci7nhf1ay0007n016wd5t22nl"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charge_processing_fee"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"liable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24T21:26:09.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24T21:26:09.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:transaction_id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Identificador da transação previamente criada</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Identificador da regra de divisão</td>
</tr>
</tbody></table><div name="retornando-pagamentos-da-transacao" data-unique="retornando-pagamentos-da-transacao"></div></yay>
VM119:14 <yay><h2 id="retornando-pagamentos-da-transacao">Retornando pagamentos da transação</h2><blockquote>
<p>GET https://api.pagar.me/1/transactions/:transaction_id/payables</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/transactions/192669/payables <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Retorna um array com objetos <code class="prettyprint">payable</code> informando os dados dos pagamentos referentes a uma transação.</p><blockquote>
<p>JSON Retornado (exemplo):</p>
</blockquote><pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1485</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">39000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installment"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">192669</span><span class="p">,</span><span class="w">
    </span><span class="nt">"split_rule_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sr_ci87hce8o00083016bkniqems"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-07T03:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-07T15:47:48.000Z"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1486</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">91000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installment"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">192669</span><span class="p">,</span><span class="w">
    </span><span class="nt">"split_rule_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sr_ci87hce8o00093016fin8p6ll"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-07T03:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-07T15:47:48.000Z"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:transaction_id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Identificador da transação previamente criada</td>
</tr>
</tbody></table><div name="retornando-um-pagamento-da-transacao" data-unique="retornando-um-pagamento-da-transacao"></div></yay>
VM119:14 <yay><h2 id="retornando-um-pagamento-da-transacao">Retornando um pagamento da transação</h2><blockquote>
<p>GET https://api.pagar.me/1/transactions/:transaction_id/payables/:id</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/transactions/192669/payables/1485 <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Retorna um objeto <code class="prettyprint">payable</code> informando os dados de um pagamento referente a uma determinada transação.</p><blockquote>
<p>JSON Retornado (exemplo):</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1485</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">39000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installment"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">192669</span><span class="p">,</span><span class="w">
    </span><span class="nt">"split_rule_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sr_ci87hce8o00083016bkniqems"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-07T03:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-07T15:47:48.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:transaction_id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Identificador da transação previamente criada</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Identificador do objeto <code class="prettyprint">payable</code></td>
</tr>
</tbody></table><div name="retornando-uma-analise-antifraude" data-unique="retornando-uma-analise-antifraude"></div></yay>
VM119:14 <yay><h2 id="retornando-uma-analise-antifraude">Retornando uma análise antifraude</h2><blockquote>
<p>GET https://api.pagar.me/1/transactions/:transaction_id/antifraud_analyses/:id</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/transactions/314578/antifraud_analyses/913456 <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Retorna uma análise antifraude específica realizada em uma transação.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"antifraud_analysis"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"score"</span><span class="p">:</span><span class="w"> </span><span class="s2">"score"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cost"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"status"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"date_created"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"date_updated"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:transaction_id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">id da transação</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">id da análise previamente feita</td>
</tr>
</tbody></table><div name="retornando-todas-as-analises-antifraude" data-unique="retornando-todas-as-analises-antifraude"></div></yay>
VM119:14 <yay><h2 id="retornando-todas-as-analises-antifraude">Retornando todas as análises antifraude</h2><blockquote>
<p>GET https://api.pagar.me/1/transactions/:transaction_id/antifraud_analyses</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/transactions/314578/antifraud_analyses <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Retorna todas as análises antifraude realizadas em uma transação.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"antifraud_analysis"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"score"</span><span class="p">:</span><span class="w"> </span><span class="s2">"score"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cost"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"status"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"date_created"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"date_updated"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:transaction_id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">id da transação</td>
</tr>
</tbody></table><div name="retornando-um-postback" data-unique="retornando-um-postback"></div></yay>
VM119:14 <yay><h2 id="retornando-um-postback">Retornando um POSTback</h2><blockquote>
<p>GET https://api.pagar.me/1/transactions/:transaction_id/postbacks/:id</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/transactions/314578/postbacks/po_ciat6ssga0022k06ng8vxg <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Retorna um POSTback específico relacionado a transação.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-12T05:41:57.000Z"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-12T05:42:07.000Z"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"deliveries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-12T05:42:06.000Z"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-12T05:42:07.000Z"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pd_ciat6szv2002yk06nyhacqmr4"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"postback_delivery"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"response_body"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"response_headers"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{\"cache-control\":\"no-cache\",\"pragma\":\"no-cache\",\"content-length\":\"0\",\"expires\":\"-1\",\"server\":\"Microsoft-IIS/8.0\",\"x-aspnet-version\":\"4.0.30319\",\"x-powered-by\":\"ASP.NET\",\"set-cookie\":[\"ARRAffinity=663d85223525d21e72aebd941082ca482841f5719c27124196939b3de6204504;Path=/;Domain=requestb.in\"],\"date\":\"Fri, 12 Jun 2015 05:42:06 GMT\",\"connection\":\"close\"}"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"response_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">516</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"status_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http_status_code"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w"> 
        </span><span class="nt">"headers"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{\"Content-Type\":\"application/x-www-form-urlencoded\",\"X-PagarMe-Event\":\"transaction_status_changed\",\"X-Hub-Signature\":\"sha1=d825b60eee7f3034484be584ccca20d3f7bb8c5b\",\"User-Agent\":\"PagarMe-Hookshot/1.0\"}"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"po_ciat6ssga0022k06ng8vxg"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"model_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674579"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"next_retry"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"postback"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id=674579&amp;fingerprint=05112b2b5d756a1501d994027c95d3202c7b&amp;event=transaction_status_changed&amp;old_status=authorized&amp;desired_status=paid&amp;current_status=refused&amp;object=transaction"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"request_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://requestb.in/1azqnq81?inspect"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"retries"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d825b60eee7f3034484be584d3f7bb8c5b"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:transaction_id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">id da transação</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">id do POSTback</td>
</tr>
</tbody></table><div name="retornando-todos-os-postbacks" data-unique="retornando-todos-os-postbacks"></div></yay>
VM119:14 <yay><h2 id="retornando-todos-os-postbacks">Retornando todos os POSTbacks</h2><blockquote>
<p>GET https://api.pagar.me/1/transactions/:transaction_id/postbacks</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/transactions/314578/postbacks <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Retorna todos os POSTbacks enviados relacionados a transação.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-12T05:41:57.000Z"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-12T05:42:07.000Z"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"deliveries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-12T05:42:06.000Z"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-12T05:42:07.000Z"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pd_ciat6szv2002yk06nyhacqmr4"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"postback_delivery"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"response_body"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"response_headers"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{\"cache-control\":\"no-cache\",\"pragma\":\"no-cache\",\"content-length\":\"0\",\"expires\":\"-1\",\"server\":\"Microsoft-IIS/8.0\",\"x-aspnet-version\":\"4.0.30319\",\"x-powered-by\":\"ASP.NET\",\"set-cookie\":[\"ARRAffinity=663d85223525d21e72aebd941082ca482841f5719c27124196939b3de6204504;Path=/;Domain=requestb.in\"],\"date\":\"Fri, 12 Jun 2015 05:42:06 GMT\",\"connection\":\"close\"}"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"response_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">516</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"status_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http_status_code"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w"> 
        </span><span class="nt">"headers"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{\"Content-Type\":\"application/x-www-form-urlencoded\",\"X-PagarMe-Event\":\"transaction_status_changed\",\"X-Hub-Signature\":\"sha1=d825b60eee7f3034484be584ccca20d3f7bb8c5b\",\"User-Agent\":\"PagarMe-Hookshot/1.0\"}"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"po_ciat6ssga0022k06ng8vxg"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"model_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674579"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"next_retry"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"postback"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id=674579&amp;fingerprint=05112b2b5d756a1501d994027c95d3202c7b&amp;event=transaction_status_changed&amp;old_status=authorized&amp;desired_status=paid&amp;current_status=refused&amp;object=transaction"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"request_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://requestb.in/1azqnq81?inspect"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"retries"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d825b60eee7f3034484be584d3f7bb8c5b"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:transaction_id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">id da transação</td>
</tr>
</tbody></table><div name="reenviando-um-postback" data-unique="reenviando-um-postback"></div></yay>
VM119:14 <yay><h2 id="reenviando-um-postback">Reenviando um POSTback</h2><blockquote>
<p>POST https://api.pagar.me/1/transactions/:transaction_id/postbacks/:id/redeliver</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X POST https://api.pagar.me/1/transactions/314578/postbacks/po_ciat6ssga0022k06ng8vxg/redeliver <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Com essa rota você pode reenviar qualquer POSTback que já foi enviado de uma transação. Lembrando que caso o envio de um POSTback falhe ou seu servidor não o receba, nós o retentamos diversas vezes (com um total de 31 vezes). </p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-12T05:41:57.000Z"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-12T05:42:07.000Z"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"deliveries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-12T05:42:06.000Z"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-12T05:42:07.000Z"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pd_ciat6szv2002yk06nyhacqmr4"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"postback_delivery"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"response_body"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"response_headers"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{\"cache-control\":\"no-cache\",\"pragma\":\"no-cache\",\"content-length\":\"0\",\"expires\":\"-1\",\"server\":\"Microsoft-IIS/8.0\",\"x-aspnet-version\":\"4.0.30319\",\"x-powered-by\":\"ASP.NET\",\"set-cookie\":[\"ARRAffinity=663d85223525d21e72aebd941082ca482841f5719c27124196939b3de6204504;Path=/;Domain=requestb.in\"],\"date\":\"Fri, 12 Jun 2015 05:42:06 GMT\",\"connection\":\"close\"}"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"response_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">516</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"status_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http_status_code"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-18T05:42:06.000Z"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-18T05:42:07.000Z"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pd_ciat6szv2002yk06nyhasdasd5"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"postback_delivery"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"response_body"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"response_headers"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{\"cache-control\":\"no-cache\",\"pragma\":\"no-cache\",\"content-length\":\"0\",\"expires\":\"-1\",\"server\":\"Microsoft-IIS/8.0\",\"x-aspnet-version\":\"4.0.30319\",\"x-powered-by\":\"ASP.NET\",\"set-cookie\":[\"ARRAffinity=663d85223525d21e72aebd941082ca482841f5719c27124196939b3de6204504;Path=/;Domain=requestb.in\"],\"date\":\"Fri, 18 Jun 2015 05:42:06 GMT\",\"connection\":\"close\"}"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"response_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">510</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"status_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http_status_code"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w"> 
        </span><span class="nt">"headers"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{\"Content-Type\":\"application/x-www-form-urlencoded\",\"X-PagarMe-Event\":\"transaction_status_changed\",\"X-Hub-Signature\":\"sha1=d825b60eee7f3034484be584ccca20d3f7bb8c5b\",\"User-Agent\":\"PagarMe-Hookshot/1.0\"}"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"po_ciat6ssga0022k06ng8vxg"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"model_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674579"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"next_retry"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"postback"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id=674579&amp;fingerprint=05112b2b5d756a1501d994027c95d3202c7b&amp;event=transaction_status_changed&amp;old_status=authorized&amp;desired_status=paid&amp;current_status=refused&amp;object=transaction"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"request_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://requestb.in/1azqnq81?inspect"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"retries"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d825b60eee7f3034484be584d3f7bb8c5b"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:transaction_id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">id da transação</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">id do POSTback</td>
</tr>
</tbody></table><div name="retornando-todos-os-eventos-de-uma-transacao" data-unique="retornando-todos-os-eventos-de-uma-transacao"></div></yay>
VM119:14 <yay><h2 id="retornando-todos-os-eventos-de-uma-transacao">Retornando todos os eventos de uma transação</h2><blockquote>
<p>GET https://api.pagar.me/1/transactions/:transaction_id/events</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/transactions/314578/events <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Retorna todos os eventos já criados dentro de uma transação. <br><strong>Ex</strong>: mudanças de status.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ev_cift4mmt800t7z55z343v6xto"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"model_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"314578"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction_status_changed"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"event"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"current_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"desired_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"old_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processing"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w"> 
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ev_cift4nz1200t8zda33zh7zilzkt"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"model_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"314578"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction_status_changed"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"event"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"current_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"refunded"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"desired_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"refunded"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"old_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:transaction_id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">id da transação</td>
</tr>
</tbody></table><div name="retornando-todo-historico-de-uma-transacao" data-unique="retornando-todo-historico-de-uma-transacao"></div></yay>
VM119:14 <yay><h2 id="retornando-todo-historico-de-uma-transacao">Retornando todo histórico de uma transação</h2><blockquote>
<p>GET https://api.pagar.me/1/transactions/:transaction_id/operations</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/transactions/314578/operations <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Retorna todo o histórico de uma transação, ou seja, toda e qualquer operação que já aconteceu com ela. <br><br><strong>Ex</strong>: autorização, análise antifraude, captura, estorno, chargeback, emissão de boleto, conciliação, etc.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-16T03:59:40.000Z"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-16T03:59:42.000Z"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"ended_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444967982134</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"fail_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"group_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gog_cift4ml505xsfce3ff9o8xgyv"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"go_cift4ml505xsece3fqltn2ok0"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"environment"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="nt">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"model_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"314578"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"next_group_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gog_cift4nxyp5mj9on3ehfthtxiy"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"processor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pagarme"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"processor_response_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gr_cift4ml3c5xsdce3fistg0u6q"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"rollbacked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"started_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444967981743</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="w">
    </span><span class="p">},</span><span class="w"> 
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-16T03:59:40.000Z"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-16T03:59:41.000Z"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"ended_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444967981722</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"fail_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"group_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gog_cift4ml5k5xshce3fqqjaeijr"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"go_cift4ml5k5xsgce3fjelkr3c6"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"environment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07482"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"314578"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"response_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"314578"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="nt">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"model_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"314578"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"next_group_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gog_cift4ml505xsfce3ff9o8xgyv"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"processor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pagarme"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"processor_response_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gr_cift4ml3c5xsdce3fistg0u6q"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"rollbacked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"started_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444967980241</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"authorize"</span><span class="w">
    </span><span class="p">},</span><span class="w"> 
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-16T04:00:43.000Z"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-16T04:00:44.000Z"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"ended_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444968044662</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"fail_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"group_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gog_cift4nxyp5mj9on3ehfthtxiy"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"go_cift4nxyp5mj8on3e6e2k1d6t"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"environment"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="nt">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"model_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"314578"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"next_group_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"processor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pagarme"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"processor_response_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gr_cift4nxy15mj7on3edu9sf4fj"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"rollbacked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"started_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1444968043510</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"refund"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:transaction_id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">id da transação</td>
</tr>
</tbody></table><div name="notificando-cliente-sobre-boleto-a-ser-pago" data-unique="notificando-cliente-sobre-boleto-a-ser-pago"></div></yay>
VM119:14 <yay><h2 id="notificando-cliente-sobre-boleto-a-ser-pago">Notificando cliente sobre boleto a ser pago</h2><blockquote>
<p>POST https://api.pagar.me/1/transactions/:id/collect_payment</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X POST https://api.pagar.me/1/transactions/314578/collect_payment <span class="se">\</span>
-d <span class="s1">'api_key=ak_live_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> <span class="se">\</span>
-d <span class="s1">'email=seu@email.com'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Envia o link de um boleto pendente para o cliente.</p><p><strong>OBS</strong>: Essa rota não funciona em ambiente de testes.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">id da transação</td>
</tr>
<tr>
<td style="text-align: right"><strong>email</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">email a ser enviado o link do boleto</td>
</tr>
</tbody></table><div name="capturando-uma-transacao-posteriormente" data-unique="capturando-uma-transacao-posteriormente"></div></yay>
VM119:14 <yay><h2 id="capturando-uma-transacao-posteriormente">Capturando uma transação posteriormente</h2><blockquote>
<p>POST https://api.pagar.me/1/transactions/:id/capture</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X POST https://api.pagar.me/1/transactions/314578/capture <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span>

<span class="n">transaction</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Transaction</span><span class="p">.</span><span class="nf">find_by_id</span><span class="p">(</span><span class="s2">"1234"</span><span class="p">)</span>

<span class="n">transaction</span><span class="p">.</span><span class="nf">capture</span><span class="p">({</span><span class="ss">:amount</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">})</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>

    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$t</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PagarMe_Transaction</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
      <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="mi">3100</span><span class="p">,</span>
      <span class="s2">"card_id"</span> <span class="o">=&gt;</span> <span class="s2">"card_ci6l9fx8f0042rt16rtb477gj"</span><span class="p">,</span>
      <span class="s2">"postback_url"</span> <span class="o">=&gt;</span> <span class="s2">"http://requestb.in/1ahq78t1"</span><span class="p">,</span>
      <span class="s2">"capture"</span> <span class="o">=&gt;</span> <span class="s2">"false"</span><span class="p">,</span>
      <span class="s2">"metadata"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s2">"idProduto"</span> <span class="o">=&gt;</span> <span class="mi">13933139</span>
      <span class="p">)</span>
    <span class="p">));</span>

    <span class="nv">$t</span><span class="o">-&gt;</span><span class="na">charge</span><span class="p">();</span>

    <span class="nv">$t</span><span class="o">-&gt;</span><span class="na">capture</span><span class="p">(</span><span class="mi">3100</span><span class="p">);</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code><span class="n">PagarMeService</span><span class="p">.</span><span class="n">DefaultApiKey</span> <span class="p">=</span> <span class="s">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Transaction</span><span class="p">();</span>

<span class="n">transaction</span><span class="p">.</span><span class="n">Amount</span> <span class="p">=</span> <span class="m">3100</span><span class="p">;</span>
<span class="n">transaction</span><span class="p">.</span><span class="n">CardId</span> <span class="p">=</span> <span class="s">"card_ci6l9fx8f0042rt16rtb477gj"</span><span class="p">;</span>
<span class="n">transaction</span><span class="p">.</span><span class="n">PostbackUrl</span> <span class="p">=</span> <span class="s">"http://requestb.in/pkt7pgpk"</span><span class="p">;</span>
<span class="n">transaction</span><span class="p">.</span><span class="n">Metadata</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Metadata</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">IdProduto</span> <span class="p">=</span> <span class="m">13933139</span>
<span class="p">};</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">Save</span><span class="p">();</span>

<span class="n">transaction</span><span class="p">.</span><span class="nf">Capture</span><span class="p">(</span><span class="m">3100</span><span class="p">);</span>
</code></pre><p>Você pode capturar o valor de uma transação após a autorização desta, no prazo máximo de 5 dias após a autorização.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"authorized"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"132534"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testeDeApi"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1425302906112"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1425302906112"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-02T13:28:25.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-02T13:28:26.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">130000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">184622</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://requestb.in/pkt7pgpk"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit_card"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api_key"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"189.8.94.42"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card_ci6l9fx8f0042rt16rtb477gj"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-25T21:54:56.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-25T21:54:57.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mastercard"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Api Customer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"first_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"548045"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"last_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3123"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HSiLJan2nqwn"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"nomeData"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API Doc test"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"idData"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Id da transação a ser capturada</td>
</tr>
</tbody></table><div name="estorno-de-transacao" data-unique="estorno-de-transacao"></div></yay>
VM119:14 <yay><h2 id="estorno-de-transacao">Estorno de transação</h2><blockquote>
<p>POST https://api.pagar.me/1/transactions/:id/refund</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X POST https://api.pagar.me/1/transactions/314578/refund <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight shell" style="display: block;"><code><span class="c"># Estorno de transação paga com boleto bancário</span>

curl -X POST https://api.pagar.me/1/transactions/314578/refund <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> <span class="se">\</span>
-d <span class="s1">'bank_account[bank_code]=111'</span> <span class="se">\</span>
-d <span class="s1">'bank_account[agencia]=1234'</span> <span class="se">\</span>
-d <span class="s1">'bank_account[conta]=09876'</span> <span class="se">\</span>
-d <span class="s1">'bank_account[conta_dv]=1'</span> <span class="se">\</span>
-d <span class="s1">'bank_account[document_number]=12312312312'</span> <span class="se">\</span>
-d <span class="s1">'bank_account[legal_name]=joao miranda'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span>

<span class="n">transaction</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Transaction</span><span class="p">.</span><span class="nf">find_by_id</span><span class="p">(</span><span class="s2">"1234"</span><span class="p">)</span>

<span class="n">transaction</span><span class="p">.</span><span class="nf">refund</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>

    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$t</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PagarMe_Transaction</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
      <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="mi">3100</span><span class="p">,</span>
      <span class="s2">"card_id"</span> <span class="o">=&gt;</span> <span class="s2">"card_ci6l9fx8f0042rt16rtb477gj"</span><span class="p">,</span>
      <span class="s2">"postback_url"</span> <span class="o">=&gt;</span> <span class="s2">"http://requestb.in/1ahq78t1"</span><span class="p">,</span>
      <span class="s2">"capture"</span> <span class="o">=&gt;</span> <span class="s2">"false"</span><span class="p">,</span>
      <span class="s2">"metadata"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s2">"idProduto"</span> <span class="o">=&gt;</span> <span class="mi">13933139</span>
      <span class="p">)</span>
    <span class="p">));</span>

    <span class="nv">$t</span><span class="o">-&gt;</span><span class="na">charge</span><span class="p">();</span>

    <span class="nv">$t</span><span class="o">-&gt;</span><span class="na">refund</span><span class="p">();</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code><span class="n">PagarMeService</span><span class="p">.</span><span class="n">DefaultApiKey</span> <span class="p">=</span> <span class="s">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Transaction</span><span class="p">();</span>

<span class="n">transaction</span><span class="p">.</span><span class="n">Amount</span> <span class="p">=</span> <span class="m">3100</span><span class="p">;</span>
<span class="n">transaction</span><span class="p">.</span><span class="n">CardId</span> <span class="p">=</span> <span class="s">"card_ci6l9fx8f0042rt16rtb477gj"</span><span class="p">;</span>
<span class="n">transaction</span><span class="p">.</span><span class="n">PostbackUrl</span> <span class="p">=</span> <span class="s">"http://requestb.in/pkt7pgpk"</span><span class="p">;</span>
<span class="n">transaction</span><span class="p">.</span><span class="n">Metadata</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Metadata</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">IdProduto</span> <span class="p">=</span> <span class="m">13933139</span>
<span class="p">};</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">Save</span><span class="p">();</span>

<span class="n">transaction</span><span class="p">.</span><span class="nf">Refund</span><span class="p">();</span>
</code></pre><p>Essa rota é utilizada quando se deseja estornar uma transação, realizada por uma cobrança via cartão de crédito ou boleto bancário.</p><p>Em caso de estorno de uma transação realizada com cartão de crédito, apenas o <code class="prettyprint">id</code> da transação é necessário para efetivação do estorno.</p><p>Caso a compra tenha sido feita por boleto bancário, você precisará passar os dados da conta bancária que irá receber o valor estornado, ou o id desta conta, que pode ser gerada através da rota <code class="prettyprint">/bank_accounts</code>.  </p><blockquote>
<p>JSON Retornado - Estorno de Cartão de Crédito (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"refunded"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pagarme"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40777"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="mi">545176</span><span class="p">,</span><span class="w">
  </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="mi">545176</span><span class="p">,</span><span class="w">
  </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-01T01:16:09.145Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-01T01:16:40.736Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
  </span><span class="nt">"authorized_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
  </span><span class="nt">"paid_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
  </span><span class="nt">"refunded_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
  </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">545176</span><span class="p">,</span><span class="w">
  </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aardvark Silva"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"card_last_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4242"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"card_first_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"424242"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit_card"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"capture_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ecommerce"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"session_id"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"132.125.152.103"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ddi"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ddd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15110808"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36183</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"address"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Avenida Brigadeiro Faria Lima"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"complementary"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1811"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"neighborhood"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jd. Paulistano"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01451001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brasil"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37461</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11122233389"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aardvark Silva"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aardvark.silva@pagar.me"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"born_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-29T16:34:39.615Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">76762</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card_ciq13rfsh00wxru6eq00ndqkf"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-29T16:34:39.666Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-01T01:16:09.130Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aardvark Silva"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"424242"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4242"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8Z6Lxj449c8M"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1119"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"split_rules"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nt">"antifraud_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><blockquote>
<p>JSON Retornado - Estorno de Boleto Bancário (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending_refund"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-26T19:50:38.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-02T17:38:10.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3100000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">184306</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
    </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://requestb.in/pkt7pgpk"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pagar.me"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234 5678"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-13T03:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api_key"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"189.8.94.42"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card_ci6l9fx8f0042rt16rtb477gj"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-25T21:54:56.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-25T21:54:57.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mastercard"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Api Customer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"first_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"548045"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"last_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3123"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HSiLJan2nqwn"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">id da transação</td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_account_id</strong><br> <span class="required">obrigatório*</span></td>
<td style="text-align: left">Se você tiver o id de uma conta previamente criada, você pode passar apenas seu id. Caso a conta ainda não exista, você pode <a href="/#criando-uma-conta-bancaria">criar uma conta</a> ou passar os dados da conta via parâmetros</td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_code</strong><br> <span class="required">obrigatório*</span></td>
<td style="text-align: left">Dígitos que identificam cada banco. Confira a lista dos bancos <a href="http://www.febraban.org.br/arquivo/bancos/sitebancos2-0.asp">aqui</a></td>
</tr>
<tr>
<td style="text-align: right"><strong>agencia</strong><br> <span class="required">obrigatório*</span></td>
<td style="text-align: left">Número da agência bancária</td>
</tr>
<tr>
<td style="text-align: right"><strong>agencia_dv</strong></td>
<td style="text-align: left">Digito verificador da agência. Obrigatório caso o banco o utilize</td>
</tr>
<tr>
<td style="text-align: right"><strong>conta</strong><br> <span class="required">obrigatório*</span></td>
<td style="text-align: left">Número da conta</td>
</tr>
<tr>
<td style="text-align: right"><strong>conta_dv</strong><br> <span class="required">obrigatório*</span></td>
<td style="text-align: left">Dígito verificador da conta. Obrigatório caso o banco o utilize</td>
</tr>
<tr>
<td style="text-align: right"><strong>document_number</strong><br> <span class="required">obrigatório*</span></td>
<td style="text-align: left">CPF ou CNPJ do favorecido</td>
</tr>
<tr>
<td style="text-align: right"><strong>legal_name</strong><br> <span class="required">obrigatório*</span></td>
<td style="text-align: left">Nome/razão social do favorecido</td>
</tr>
</tbody></table><div name="estorno-parcial-de-uma-transacao" data-unique="estorno-parcial-de-uma-transacao"></div></yay>
VM119:14 <yay><h2 id="estorno-parcial-de-uma-transacao">Estorno Parcial de uma transação</h2><blockquote>
<p>POST https://api.pagar.me/1/transactions/:id/refund</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X POST https://api.pagar.me/1/transactions/562797/refund <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> <span class="se">\</span>
-d <span class="s1">'amount=1000'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span>

<span class="n">transaction</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Transaction</span><span class="p">.</span><span class="nf">find_by_id</span><span class="p">(</span><span class="s2">"1234"</span><span class="p">)</span>

<span class="n">transaction</span><span class="p">.</span><span class="nf">refund</span>
</code></pre><pre class="highlight php" style="display: none;"><code>
<span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>

    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$t</span> <span class="o">=</span> <span class="nx">PagarMe_Transaction</span><span class="o">::</span><span class="na">findById</span><span class="p">(</span><span class="s2">"562797"</span><span class="p">);</span>

    <span class="nv">$params</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">);</span>

    <span class="nv">$t</span><span class="o">-&gt;</span><span class="na">refund</span><span class="p">(</span><span class="nv">$params</span><span class="p">);</span>

<span class="cp">?&gt;</span>

</code></pre><pre class="highlight csharp" style="display: none;"><code><span class="n">PagarMeService</span><span class="p">.</span><span class="n">DefaultApiKey</span> <span class="p">=</span> <span class="s">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>

<span class="n">var</span> <span class="n">transaction</span> <span class="p">=</span> <span class="n">PagarMeService</span><span class="p">.</span><span class="nf">GetDefaultService</span><span class="p">().</span><span class="n">Transactions</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="s">"562797"</span><span class="p">);</span>

<span class="n">transaction</span><span class="p">.</span><span class="nf">Refund</span><span class="p">(</span><span class="m">1000</span><span class="p">);</span>
</code></pre><p>O estorno parcial obedece as mesmas regras de um estorno total, e usa o parâmetro <code class="prettyprint">amount</code> como referência para o valor 
a ser estornado. Entretanto, só pode ser usado para transações pagas por cartão de crédito, e com a observação de que
o <code class="prettyprint">status</code> da transação vai permanecer <code class="prettyprint">paid</code> até que o valor total da transação tenha sido estornado.</p><blockquote>
<p>JSON Retornado</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
</span><span class="nt">"object"</span><span class="p">:</span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="s2">"00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="s2">"pagarme"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="s2">"845088"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tid"</span><span class="p">:</span><span class="mi">562797</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nsu"</span><span class="p">:</span><span class="mi">562797</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="s2">"2016-07-10T17:09:41.289Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="s2">"2016-07-11T02:14:53.547Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="mi">9900</span><span class="p">,</span><span class="w">
    </span><span class="nt">"authorized_amount"</span><span class="p">:</span><span class="mi">9900</span><span class="p">,</span><span class="w">
    </span><span class="nt">"paid_amount"</span><span class="p">:</span><span class="mi">9900</span><span class="p">,</span><span class="w">
    </span><span class="nt">"refunded_amount"</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">562797</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cost"</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span><span class="w">
    </span><span class="nt">"card_holder_name"</span><span class="p">:</span><span class="s2">"John Smith"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"card_last_digits"</span><span class="p">:</span><span class="s2">"4242"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"card_first_digits"</span><span class="p">:</span><span class="s2">"424242"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"card_brand"</span><span class="p">:</span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="s2">"credit_card"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"capture_method"</span><span class="p">:</span><span class="s2">"ecommerce"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"referer"</span><span class="p">:</span><span class="s2">"session_id"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ip"</span><span class="p">:</span><span class="s2">"162.15.6.27"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="mi">71865</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="s2">"customer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">"john.smith@emailg.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"born_at"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"gender"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="s2">"2016-07-10T17:09:41.236Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">79118</span><span class="p">},</span><span class="w">
    </span><span class="nt">"card"</span><span class="p">:{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="s2">"card"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"card_ciqguuuqk001dkg6erhqzh4jf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="s2">"2016-07-10T17:09:41.278Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="s2">"2016-07-10T17:09:41.834Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"brand"</span><span class="p">:</span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"holder_name"</span><span class="p">:</span><span class="s2">"John Smith"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"first_digits"</span><span class="p">:</span><span class="s2">"424242"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"last_digits"</span><span class="p">:</span><span class="s2">"4242"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country"</span><span class="p">:</span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="s2">"8Z6Lxj449c8M"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valid"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"expiration_date"</span><span class="p">:</span><span class="s2">"1119"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"split_rules"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:{},</span><span class="w">
    </span><span class="nt">"antifraud_metadata"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">id da transação</td>
</tr>
<tr>
<td style="text-align: right"><strong>amount</strong><br><span class="required">obrigatório</span></td>
<td style="text-align: left">Valor desejado para o estorno da transação</td>
</tr>
</tbody></table><div name="status-das-transacoes" data-unique="status-das-transacoes"></div></yay>
VM119:14 <yay><h2 id="status-das-transacoes">Status das transações</h2><p>Quando uma transação é criada, ela inicialmente é retornada com o status <code class="prettyprint">processing</code>. Após ser processada, ela pode ter os seguintes status:</p><ul>
<li><code class="prettyprint">processing</code>: transação sendo processada.</li>
<li><code class="prettyprint">authorized</code>: transação autorizada. Cliente possui saldo na conta e este valor foi reservado para futura captura, que deve acontecer em no máximo 5 dias. Caso a transação <strong>não seja capturada</strong>, a autorização é cancelada automaticamente.</li>
<li><code class="prettyprint">paid</code>: transação paga (autorizada e capturada).</li>
<li><code class="prettyprint">refunded</code>: transação estornada.</li>
<li><code class="prettyprint">waiting_payment</code>: transação aguardando pagamento (status para transações criadas com boleto bancário).</li>
<li><code class="prettyprint">pending_refund</code>: transação paga com boleto aguardando para ser estornada.</li>
<li><code class="prettyprint">refused</code>: transação não autorizada.</li>
<li><code class="prettyprint">chargedback</code>: transação sofreu chargeback.</li>
</ul><div name="calculando-pagamentos-parcelados" data-unique="calculando-pagamentos-parcelados"></div></yay>
VM119:14 <yay><h2 id="calculando-pagamentos-parcelados">Calculando Pagamentos Parcelados</h2><blockquote>
<p>GET https://api.pagar.me/1/transactions/calculate_installments_amount</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/transactions/calculate_installments_amount <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0 \
-d '</span><span class="nv">max_installments</span><span class="o">=</span>3<span class="s1">' \
-d '</span><span class="nv">free_installments</span><span class="o">=</span>1<span class="s1">' \
-d '</span><span class="nv">interest_rate</span><span class="o">=</span>13<span class="s1">' \
-d '</span><span class="nv">amount</span><span class="o">=</span>10000<span class="s1">'
</span></code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span>

<span class="n">installments_result</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Transaction</span><span class="p">.</span><span class="nf">calculate_installments</span><span class="p">({</span>
    <span class="ss">amount: </span><span class="mi">10000</span><span class="p">,</span>
    <span class="ss">interest_rate: </span><span class="mi">13</span>
<span class="p">})</span>
</code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Usada para calcular o valor de cada uma das parcelas de uma compra.</p><blockquote>
<p>JSON retornado (exemplo):</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
            </span><span class="nt">"installment_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10598</span><span class="p">,</span><span class="w">
            </span><span class="nt">"installment_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5299</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"3"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10897</span><span class="p">,</span><span class="w">
            </span><span class="nt">"installment_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3632</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>max_installments</strong><br> default: <code class="prettyprint">12</code></td>
<td style="text-align: left">Valor máximo de parcelas</td>
</tr>
<tr>
<td style="text-align: right"><strong>free_installments</strong><br> default: <code class="prettyprint">1</code></td>
<td style="text-align: left">Número de parcelas isentas de juros</td>
</tr>
<tr>
<td style="text-align: right"><strong>interest_rate</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Valor da taxa de juros</td>
</tr>
<tr>
<td style="text-align: right"><strong>amount</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Valor do produto/serviço vendido</td>
</tr>
</tbody></table><div name="testando-pagamento-de-boletos" data-unique="testando-pagamento-de-boletos"></div></yay>
VM119:14 <yay><h2 id="testando-pagamento-de-boletos">Testando pagamento de Boletos</h2><blockquote>
<p>PUT https://api.pagar.me/1/transactions/:id</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X PUT https://api.pagar.me/1/transactions/260582 <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_3343DSY7DWVzOXSz3xjvzIpBME4afc'</span> <span class="se">\</span>
-d <span class="s1">'status=paid'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Usado <strong>apenas em ambiente de Teste</strong> para simular o pagamento de um Boleto.</p><blockquote>
<p>JSON retornado (exemplo):</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="s2">"development"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nsu"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="s2">"2015-08-27T17:53:56.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="s2">"2015-08-27T18:01:24.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="mi">25000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">260582</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cost"</span><span class="p">:</span><span class="mi">380</span><span class="p">,</span><span class="w">
    </span><span class="nt">"card_holder_name"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"card_last_digits"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"card_first_digits"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"card_brand"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="s2">"https://pagar.me"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="s2">"1234 5678"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="s2">"2015-09-03T03:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"referer"</span><span class="p">:</span><span class="s2">"api_key"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ip"</span><span class="p">:</span><span class="s2">"180.185.133.109"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"card"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:{</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"antifraud_metadata"</span><span class="p">:{</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>status</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Utilize o valor <strong>paid</strong> para simular o pagamento</td>
</tr>
</tbody></table><div name="gerando-card_hash-manualmente" data-unique="gerando-card_hash-manualmente"></div></yay>
VM119:14 <yay><h2 id="gerando-card_hash-manualmente">Gerando card_hash manualmente</h2><p>O <code class="prettyprint">card_hash</code> consiste em uma string gerada a partir dos dados do cartão de crédito. Essa string é encriptada por RSA usando uma chave pública que deve ser requisitada ao servidor a cada novo <code class="prettyprint">card_hash</code> gerado. Essa chave é invalidada assim que o servidor lê as informações contidas no <code class="prettyprint">card_hash</code>, e por isso só pode ser utilizada uma única vez. Ela também é temporária, expirando 5 minutos após ter sido gerada.</p><p>As bibliotecas do Pagar.me sempre utilizam o <code class="prettyprint">card_hash</code> para enviar os dados para o servidor, o que aumenta consideravelmente a segurança da transação.</p><h3 id="requisitando-ao-servidor-uma-chave-para-encriptar-o-card_hash">Requisitando ao servidor uma chave para encriptar o <code class="prettyprint">card_hash</code></h3><blockquote>
<p>GET https://api.pagar.me/1/transactions/card_hash_key</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/transactions/card_hash_key <span class="se">\</span>
-d <span class="s1">'encryption_key=ek_test_9741a03ea3a4f15f6fa8d9fe9d2c47c8'</span> <span class="se">\</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Para gerarmos o <code class="prettyprint">card_hash</code>, primeiramente devemos requisitar do servidor a chave pública para criptografarmos nossos dados.</p><blockquote>
<p>JSON retornado (exemplo):</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-27T15:44:26.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">111111</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000.0.00.00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"public_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN PUBLIC KEY-----\ -----END PUBLIC KEY-----\ "</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Propriedade</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>id</strong><br> Number</td>
<td style="text-align: left">id retornado que será utilizado posterirormente para compor o <code class="prettyprint">card_hash</code>, por isso é importante que você o salve</td>
</tr>
<tr>
<td style="text-align: right"><strong>public_key</strong><br> String</td>
<td style="text-align: left">Chave pública utilizada para criptografar os dados do cartão de crédito</td>
</tr>
<tr>
<td style="text-align: right"><strong>ip</strong><br> String</td>
<td style="text-align: left">IP de onde o request foi originado</td>
</tr>
</tbody></table><h3 id="encriptando-os-dados-do-cartao-de-credito">Encriptando os dados do cartão de crédito</h3><p>Agora você vai ter que criar uma QueryString com valores URLEncoded para os parâmetros do cartão de crédito. Vamos pegar os seguintes dados abaixo como exemplo:</p><ul>
<li>card_number = <code class="prettyprint">4901720080344448</code></li>
<li>card_holder_name = <code class="prettyprint">"Usuario de Teste"</code></li>
<li>card_expiration_date = <code class="prettyprint">1213</code></li>
<li>card_cvv = <code class="prettyprint">314</code></li>
</ul><p>A querystring será da seguinte forma:</p><p><code class="prettyprint">
card_number=4901720080344448&amp;card_holder_name=Usuario%20de%20Teste&amp;card_expiration_date=1213&amp;card_cvv=314
</code></p><p>Agora você vai fazer uma criptografia publica com <code class="prettyprint">RSA</code> e o padding <code class="prettyprint">PKCS1Padding</code> usando a public_key que você recebeu na request passando essa QueryString que você montou.</p><p>Após criptografar esses dados você deve converter o resultado para base64. Como resultado você terá:</p><p><code class="prettyprint">
FFtwikzg/FC1mH7XLFU5fjPAzDsP0ogeAQh3qXRpHzkIrgDz64lITBUGwio67zm2CQXwbKRjGdRi5J1xFNpQLWnxQsUJAQELcTSGaGtF6RGSu6sq1stp8OLRSNG7wp+xGe8poqxw4S1gOL5JYO7XZp/Uz7rTpKXh3IcRshmX36hh66J6+7l5j0803cGIfMZu3T7nbMjQYIf+yLi8r0O6vL9DQPmqSZ9FBerqFGxWHrxScneaaMVzMpNX/5eneqveVBt88RccytyJG5+HYRHcRyKIbLfmX48L/C22HJeAm3PyzehGHdOmDcsxPtVB+Fgq7SDuB4tHWBT8j6wihOO7ww==
</code></p><p>Agora que você possui o id vindo do request e o os dados criptografados convertidos para base64, seu <code class="prettyprint">card_hash</code> deverá ser formatado da seguinte maneira:</p><p><strong><code class="prettyprint">
card_hash = id + "_" + encrypted_string_base64
</code></strong></p><div name="cartoes" data-unique="cartoes"></div></yay>
VM119:14 <yay><h2 id="objeto-card">Objeto <code class="prettyprint">card</code></h2><blockquote>
<p>Objeto card</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card_ci6y37hc00030a416wrxsmzyi"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T21:21:25.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T21:21:26.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API CUSTOMER"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"401872"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8048"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jl9oOIiDjAjR"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><p>Sempre que você faz uma requisição através da nossa API nós guardamos as informações do portador do cartão, para que, futuramente, você possa utilizar essas informações para novas cobranças, ou implementação de features como <em>one-click-buy</em>.</p><table><thead>
<tr>
<th style="text-align: right">Propriedade</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>object</strong><br> String</td>
<td style="text-align: left">Nome do tipo do objeto criado/modificado. <br> <strong>Valor retornado</strong>: <code class="prettyprint">subscription</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>id</strong><br> String</td>
<td style="text-align: left">Identificador do cartão</td>
</tr>
<tr>
<td style="text-align: right"><strong>date_created</strong><br> String</td>
<td style="text-align: left">Data de criação do objeto <code class="prettyprint">card</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>date_updated</strong><br> String</td>
<td style="text-align: left">Data de atualização do objeto <code class="prettyprint">card</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>brand</strong><br> String</td>
<td style="text-align: left">Marca da operadora do cartão</td>
</tr>
<tr>
<td style="text-align: right"><strong>holder_name</strong><br> String</td>
<td style="text-align: left">Nome do portador do cartão</td>
</tr>
<tr>
<td style="text-align: right"><strong>first_digits</strong><br> String</td>
<td style="text-align: left">Primeiros dígitos do cartão (6 dígitos)</td>
</tr>
<tr>
<td style="text-align: right"><strong>last_digits</strong><br> String</td>
<td style="text-align: left">Últimos dígitos do cartão (4 dígitos)</td>
</tr>
<tr>
<td style="text-align: right"><strong>fingerprint</strong><br> String</td>
<td style="text-align: left">Hash que permite comparar dois cartões através de seus fingerprints para saber se são o mesmo</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer</strong><br> Object</td>
<td style="text-align: left">Objeto com dados do comprador</td>
</tr>
<tr>
<td style="text-align: right"><strong>valid</strong><br> Boolean</td>
<td style="text-align: left">Propriedade para verificar a validade do cartão</td>
</tr>
</tbody></table><div name="criando-um-cartao" data-unique="criando-um-cartao"></div></yay>
VM119:14 <yay><h2 id="criando-um-cartao">Criando um cartão</h2><blockquote>
<p>POST https://api.pagar.me/1/cards</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X  POST https://api.pagar.me/1/cards <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> <span class="se">\</span>
-d <span class="s1">'card_number=4018720572598048'</span> <span class="se">\</span>
-d <span class="s1">'holder_name=API Customer'</span> <span class="se">\</span>
-d <span class="s1">'card_expiration_date=0116'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span>


<span class="n">card</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Card</span><span class="p">.</span><span class="nf">new</span><span class="p">({</span>
    <span class="ss">:card_number</span> <span class="o">=&gt;</span> <span class="s1">'4111111111111111'</span><span class="p">,</span>
    <span class="ss">:card_holder_name</span> <span class="o">=&gt;</span> <span class="s1">'Jose da Silva'</span><span class="p">,</span>
    <span class="ss">:card_expiration_month</span> <span class="o">=&gt;</span> <span class="s1">'10'</span><span class="p">,</span>
    <span class="ss">:card_expiration_year</span> <span class="o">=&gt;</span> <span class="s1">'15'</span><span class="p">,</span>
    <span class="ss">:card_cvv</span> <span class="o">=&gt;</span> <span class="s1">'314'</span>
<span class="p">})</span>

<span class="n">card</span><span class="p">.</span><span class="nf">create</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>

    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$card</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PagarMe_Card</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
        <span class="s2">"card_number"</span> <span class="o">=&gt;</span> <span class="s2">"4111111111111111"</span><span class="p">,</span>
        <span class="s2">"card_holder_name"</span> <span class="o">=&gt;</span> <span class="s2">"Jose da Silva"</span><span class="p">,</span>
        <span class="s2">"card_expiration_month"</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s2">"card_expiration_year"</span> <span class="o">=&gt;</span> <span class="mi">22</span><span class="p">,</span>
        <span class="s2">"card_cvv"</span> <span class="o">=&gt;</span> <span class="s2">"123"</span><span class="p">,</span>
    <span class="p">));</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code><span class="n">PagarMeService</span><span class="p">.</span><span class="n">DefaultApiKey</span> <span class="p">=</span> <span class="s">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>
<span class="n">PagarMeService</span><span class="p">.</span><span class="n">DefaultEncryptionKey</span> <span class="p">=</span> <span class="s">"ek_test_Ec8KhxISQ1tug1b8bCcxC2nXfxqRnk"</span><span class="p">;</span>

<span class="n">Card</span> <span class="n">card</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Card</span><span class="p">();</span>
<span class="n">card</span><span class="p">.</span><span class="n">Number</span> <span class="p">=</span> <span class="s">"4111111111111111"</span><span class="p">;</span>
<span class="n">card</span><span class="p">.</span><span class="n">HolderName</span> <span class="p">=</span> <span class="s">"Jose da Silva"</span><span class="p">;</span>
<span class="n">card</span><span class="p">.</span><span class="n">ExpirationDate</span> <span class="p">=</span> <span class="s">"1022"</span><span class="p">;</span>
<span class="n">card</span><span class="p">.</span><span class="n">Cvv</span> <span class="p">=</span> <span class="s">"123"</span><span class="p">;</span>

<span class="n">card</span><span class="p">.</span><span class="nf">Save</span><span class="p">();</span>
</code></pre><p>Você pode armazenar os dados do cartão do seu cliente através da rota <code class="prettyprint">/cards</code>, assim você poderá usar o <code class="prettyprint">id</code> do objeto gerado para realizar futuras transações, no lugar do <code class="prettyprint">card_hash</code>.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card_ci6y37h16wrxsmzyi"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T21:21:25.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T21:21:26.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API CUSTOMER"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"401872"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8048"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jl9oOIiDjAjR"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>card_number</strong></td>
<td style="text-align: left">Número do portador do cartão</td>
</tr>
<tr>
<td style="text-align: right"><strong>card_expiration_date</strong> ou <strong>expiration_date</strong></td>
<td style="text-align: left">Data de expiração do cartão</td>
</tr>
<tr>
<td style="text-align: right"><strong>holder_name</strong></td>
<td style="text-align: left">Nome no cartão do portador</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer_id</strong></td>
<td style="text-align: left">Você pode usar o <code class="prettyprint">id</code> do objeto <code class="prettyprint">customer</code> para associar mais informações do cliente ao <code class="prettyprint">card</code> a ser gerado</td>
</tr>
<tr>
<td style="text-align: right"><strong>card_hash</strong></td>
<td style="text-align: left">Você também pode criar um objeto <code class="prettyprint">card</code> usando os dados do cartão criptografados no <code class="prettyprint">card_hash</code></td>
</tr>
</tbody></table><div name="retornando-um-cartao-salvo" data-unique="retornando-um-cartao-salvo"></div></yay>
VM119:14 <yay><h2 id="retornando-um-cartao-salvo">Retornando um cartão salvo</h2><blockquote>
<p>GET https://api.pagar.me/1/cards/:id</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X  GET https://api.pagar.me/1/cards/card_ci6y37h16wrxsmzyi <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> <span class="se">\</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span>

<span class="n">card</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Card</span><span class="p">.</span><span class="nf">find_by_id</span><span class="p">(</span><span class="s2">"1234"</span><span class="p">)</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>

    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$card</span> <span class="o">=</span> <span class="nx">PagarMe_Card</span><span class="o">::</span><span class="na">findById</span><span class="p">(</span><span class="s2">"card_ci6y37hc00030a416wrxsmzyi"</span><span class="p">);</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code><span class="n">PagarMeService</span><span class="p">.</span><span class="n">DefaultApiKey</span> <span class="p">=</span> <span class="s">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>

<span class="n">var</span> <span class="n">card</span> <span class="p">=</span> <span class="n">PagarMeService</span><span class="p">.</span><span class="nf">GetDefaultService</span><span class="p">().</span><span class="n">Cards</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="s">"card_ci6y37hc00030a416wrxsmzyi"</span><span class="p">);</span>
</code></pre><p>Use a rota <code class="prettyprint">/cards/:id</code> para retornar os dados de um cartão previamente salvo.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card_ci6y37h16wrxsmzyi"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T21:21:25.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T21:21:26.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API CUSTOMER"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"401872"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8048"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jl9oOIiDjAjR"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
</tbody></table><div name="planos" data-unique="planos"></div></yay>
VM119:14 <yay><h2 id="objeto-plan">Objeto <code class="prettyprint">plan</code></h2><blockquote>
<p>Objeto plan</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plan"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13731</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">31000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"days"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plano Diamond"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"trial_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-03T17:31:47.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"boleto"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gold"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charges"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><p>Com o objeto <code class="prettyprint">plan</code> você consegue definir um plano no qual assinaturas poderão estar atreladas a este plano. Informações como <strong>valor do plano</strong>, <strong>nome</strong>, <strong>dias de teste</strong>, entre outras informações, são armazenadas pelos planos.</p><table><thead>
<tr>
<th style="text-align: right">Propriedade</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>object</strong><br> String</td>
<td style="text-align: left">Nome do tipo do objeto criado/modificado. <br> <strong>Valor retornado</strong>: <code class="prettyprint">plan</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>id</strong><br> Number</td>
<td style="text-align: left">Número identificador do plano</td>
</tr>
<tr>
<td style="text-align: right"><strong>amount</strong><br> Number</td>
<td style="text-align: left">Preço do plano, em centavos</td>
</tr>
<tr>
<td style="text-align: right"><strong>days</strong><br> Number</td>
<td style="text-align: left">Dias para efetuação da próxima cobrança da assinatura atrelada ao plano.</td>
</tr>
<tr>
<td style="text-align: right"><strong>name</strong><br> String</td>
<td style="text-align: left">Nome do plano</td>
</tr>
<tr>
<td style="text-align: right"><strong>trial_days</strong><br> Number</td>
<td style="text-align: left">Dias que o usuário poderá testar o serviço gratuitamente</td>
</tr>
<tr>
<td style="text-align: right"><strong>date_created</strong><br> String</td>
<td style="text-align: left">Data da criação do plano (ISODate)</td>
</tr>
<tr>
<td style="text-align: right"><strong>payment_methods</strong><br> Array</td>
<td style="text-align: left">Array de Strings contendo os possíveis métodos de pagamento deste plano. <br> <strong>Valores possíveis</strong>: <code class="prettyprint">credit_card</code>, <code class="prettyprint">boleto</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>color</strong><br> String</td>
<td style="text-align: left">Propriedade opcional para atribuição de uma cor ao plano. <br> <strong>Valor padrão</strong>: <code class="prettyprint">null</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>charges</strong><br> Number</td>
<td style="text-align: left">Número de cobranças que podem ser feitas em uma assinatura.<br> <strong>OBS</strong>: No caso de pagamento com cartão de crédito, esse valor <strong>não inclui a cobrança feita na criação da assinatura</strong>. <br> <strong>Ex</strong>: Plano anual com no máximo 3 cobranças, <code class="prettyprint">days = 365</code> e <code class="prettyprint">charges = 2</code> (cartão de crédito) ou <code class="prettyprint">charges = 3</code> (boleto)</td>
</tr>
<tr>
<td style="text-align: right"><strong>installments</strong><br> Number</td>
<td style="text-align: left">Informa em quantas vezes o pagamento será parcelado entre cada cobrança</td>
</tr>
</tbody></table><div name="criando-planos" data-unique="criando-planos"></div></yay>
VM119:14 <yay><h2 id="criando-planos">Criando Planos</h2><blockquote>
<p>POST https://api.pagar.me/1/plans</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X POST https://api.pagar.me/1/plans <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> <span class="se">\</span>
-d <span class="s1">'amount=31000'</span> <span class="se">\</span>
-d <span class="s1">'days=30'</span> <span class="se">\</span>
-d <span class="s1">'name=Plano Ouro'</span> <span class="se">\</span>
-d <span class="s1">'payments_methods[]=boleto'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span>

<span class="n">plan</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Plan</span><span class="p">.</span><span class="nf">new</span><span class="p">({</span>
    <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">"Plano gold"</span><span class="p">,</span>
    <span class="ss">:trial_days</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span>
    <span class="ss">:days</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="ss">:amount</span> <span class="o">=&gt;</span> <span class="mi">3000</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">plan</span><span class="p">.</span><span class="nf">create</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>

    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$plan</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PagarMe_Plan</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
        <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="mi">3000</span><span class="p">,</span>
        <span class="s2">"trial_days"</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span>
        <span class="s2">"days"</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
        <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"Plano gold"</span>
    <span class="p">));</span>

    <span class="nv">$plan</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code><span class="n">PagarMeService</span><span class="p">.</span><span class="n">DefaultApiKey</span> <span class="p">=</span> <span class="s">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>

<span class="n">Plan</span> <span class="n">plan</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Plan</span><span class="p">();</span>
<span class="n">plan</span><span class="p">.</span><span class="n">Amount</span> <span class="p">=</span> <span class="m">3000</span><span class="p">;</span>
<span class="n">plan</span><span class="p">.</span><span class="n">TrialDays</span> <span class="p">=</span> <span class="m">5</span><span class="p">;</span>
<span class="n">plan</span><span class="p">.</span><span class="n">Days</span> <span class="p">=</span> <span class="m">30</span><span class="p">;</span>
<span class="n">plan</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"Plano gold"</span><span class="p">;</span>

<span class="n">plan</span><span class="p">.</span><span class="nf">Save</span><span class="p">();</span>
</code></pre><p>Cria um plano, onde poderão ser definidos o nome deste, preço, tempo de recorrência, métodos de pagamento, dentre outras opções.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plan"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12779</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">31000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"days"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plano Ouro"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"trial_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-03T16:28:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"boleto"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charges"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>amount</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Valor que será cobrado recorrentemente (em centavos). Ex: R$49,90 = <code class="prettyprint">4990</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>days</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Prazo, em dias, para cobrança das parcelas</td>
</tr>
<tr>
<td style="text-align: right"><strong>name</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Nome do plano</td>
</tr>
<tr>
<td style="text-align: right"><strong>trial_days</strong><br> default: <code class="prettyprint">0</code></td>
<td style="text-align: left">Dias para teste gratuito do produto. Valor começará a ser cobrado no dia <code class="prettyprint">trial_days + 1</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>payment_methods</strong><br> Array, default: <code class="prettyprint">[boleto, credit_card]</code></td>
<td style="text-align: left">Meios de pagamentos aceitos. Pode ser boleto, cartão de crédito ou ambos</td>
</tr>
<tr>
<td style="text-align: right"><strong>color</strong><br> default: <code class="prettyprint">null</code></td>
<td style="text-align: left">Armazena o valor de uma cor para o plano</td>
</tr>
<tr>
<td style="text-align: right"><strong>charges</strong><br> default: <code class="prettyprint">null</code></td>
<td style="text-align: left">Número de cobranças que poderão ser feitas nesse plano. <br> <strong>Ex</strong>: Plano cobrado 1x por ano, válido por no máximo 3 anos. Nesse caso, nossos parâmetros serão: <code class="prettyprint">days = 365, installments = 1</code>, <code class="prettyprint">charges=2</code> (cartão de crédito) ou <code class="prettyprint">charges=3</code> (boleto). <br> <strong>OBS</strong>: No caso de cartão de crédito, a cobrança feita na ativação da assinatura <strong>não é considerada</strong>. <br> <strong>OBS</strong>: <code class="prettyprint">null</code> irá cobrar o usuário indefinidamente, ou até o plano ser cancelado</td>
</tr>
<tr>
<td style="text-align: right"><strong>installments</strong><br> default: <code class="prettyprint">1</code></td>
<td style="text-align: left">Número de parcelas entre cada <em>charge</em>. <br> <strong>Ex</strong>: Plano anual, válido por 2 anos, podendo ser divido em até 12 vezes. Nesse caso, nossos parâmetros serão: <code class="prettyprint">days = 30, installments = 12</code>, <code class="prettyprint">charges=2</code> (cartão de crédito) ou <code class="prettyprint">charges=3</code> (boleto). <br> <strong>OBS</strong>: Boleto sempre terá <code class="prettyprint">installments = 1</code></td>
</tr>
</tbody></table><p>Veja mais sobre como criar um plano <a href="https://pagar.me/docs/plans-subscriptions/#criando-um-plano">aqui</a>.</p><div name="retornando-um-plano" data-unique="retornando-um-plano"></div></yay>
VM119:14 <yay><h2 id="retornando-um-plano">Retornando um plano</h2><blockquote>
<p>GET https://api.pagar.me/1/plans/:id</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/plans/13580 <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span>

<span class="n">plan</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Plan</span><span class="p">.</span><span class="nf">find_by_id</span><span class="p">(</span><span class="s2">"13580"</span><span class="p">)</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>

    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$plan</span> <span class="o">=</span> <span class="nx">PagarMe_Plan</span><span class="o">::</span><span class="na">findById</span><span class="p">(</span><span class="s2">"13850"</span><span class="p">);</span>

</code></pre><pre class="highlight csharp" style="display: none;"><code><span class="n">PagarMeService</span><span class="p">.</span><span class="n">DefaultApiKey</span> <span class="p">=</span> <span class="s">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>

<span class="n">var</span> <span class="n">plan</span> <span class="p">=</span> <span class="n">PagarMeService</span><span class="p">.</span><span class="nf">GetDefaultService</span><span class="p">().</span><span class="n">Plans</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="s">"13850"</span><span class="p">);</span>
</code></pre><p>Retorna um plano previamente criado.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plan"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13580</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">31000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"days"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plano Ouro"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"trial_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-03T16:28:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"boleto"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charges"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">id de identificação do plano previamente criado</td>
</tr>
</tbody></table><div name="retornando-planos" data-unique="retornando-planos"></div></yay>
VM119:14 <yay><h2 id="retornando-planos">Retornando planos</h2><blockquote>
<p>GET https://api.pagar.me/1/plans</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/plans <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> <span class="se">\</span>
-d <span class="s1">'page=1'</span> <span class="se">\</span>
-d <span class="s1">'count=3'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span>

<span class="n">plans</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Plan</span><span class="p">.</span><span class="nf">all</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>

    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$plans</span> <span class="o">=</span> <span class="nx">PagarMe_Plan</span><span class="o">::</span><span class="na">all</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>

</code></pre><pre class="highlight csharp" style="display: none;"><code><span class="n">PagarMeService</span><span class="p">.</span><span class="n">DefaultApiKey</span> <span class="p">=</span> <span class="s">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>

<span class="n">var</span> <span class="n">plans</span> <span class="p">=</span> <span class="n">PagarMeService</span><span class="p">.</span><span class="nf">GetDefaultService</span><span class="p">().</span><span class="n">Plans</span><span class="p">.</span><span class="nf">FindAll</span><span class="p">(</span><span class="k">new</span> <span class="nf">Plan</span><span class="p">());</span>
</code></pre><p>Retorna todos os planos previamente criados. </p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plan"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15553</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">31000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"days"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plano Ouro"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"trial_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-27T00:37:36.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"credit_card"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charges"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plan"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15495</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">79000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"days"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cacique"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"trial_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-26T14:37:10.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"credit_card"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charges"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plan"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15487</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">300000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"days"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOP MBA 360"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"trial_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-25T21:28:32.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"credit_card"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charges"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>count</strong><br> default: <code class="prettyprint">10</code></td>
<td style="text-align: left">Retorna <code class="prettyprint">n</code> objetos de plano</td>
</tr>
<tr>
<td style="text-align: right"><strong>page</strong><br> default: <code class="prettyprint">1</code></td>
<td style="text-align: left">Útil para implementação de uma paginação de resultados</td>
</tr>
</tbody></table><div name="atualizando-planos" data-unique="atualizando-planos"></div></yay>
VM119:14 <yay><h2 id="atualizando-planos">Atualizando Planos</h2><blockquote>
<p>PUT https://api.pagar.me/1/plans/:id</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X  PUT https://api.pagar.me/1/plans/13580 <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> <span class="se">\</span>
-d <span class="s1">'name=Plano Diamong'</span> <span class="se">\</span>
-d <span class="s1">'trial_days=7'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span>

<span class="n">plan</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Plan</span><span class="p">.</span><span class="nf">find_by_id</span><span class="p">(</span><span class="s2">"1234"</span><span class="p">)</span>

<span class="n">plan</span><span class="p">.</span><span class="nf">name</span> <span class="o">=</span> <span class="s2">"plano silver"</span>

<span class="n">plan</span><span class="p">.</span><span class="nf">save</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>

    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$plan</span> <span class="o">=</span> <span class="nx">PagarMe_Plan</span><span class="o">::</span><span class="na">findById</span><span class="p">(</span><span class="s2">"12785"</span><span class="p">);</span>

    <span class="nv">$plan</span><span class="o">-&gt;</span><span class="na">setName</span><span class="p">(</span><span class="s2">"plano silver"</span><span class="p">);</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Atualiza um plano previamente criado. As propriedades que podem ser alteradas são:</p><ul>
<li>Nome do plano (<code class="prettyprint">name</code>)</li>
<li>Dias de testes gratuito (<code class="prettyprint">trial_days</code>)</li>
</ul><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plan"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13580</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">31000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"days"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plano Ouro"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"trial_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-03T16:28:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"boleto"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charges"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">id de identificação do plano previamente criado</td>
</tr>
<tr>
<td style="text-align: right"><strong>name</strong></td>
<td style="text-align: left">Nome do plano</td>
</tr>
<tr>
<td style="text-align: right"><strong>trial_days</strong></td>
<td style="text-align: left">Dias para testar o produto/serviço gratuitamente</td>
</tr>
</tbody></table><div name="assinaturas" data-unique="assinaturas"></div></yay>
VM119:14 <yay><h2 id="objeto-subscription">Objeto <code class="prettyprint">subscription</code></h2><blockquote>
<p>Objeto <code class="prettyprint">subscription</code></p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscription"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"plan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plan"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12830</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1300</span><span class="p">,</span><span class="w">
        </span><span class="nt">"days"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plano Prata"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"trial_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T17:25:25.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"credit_card"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"charges"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14858</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"waiting_payment"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T18:15:12.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T18:15:12.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1300</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">185486</span><span class="p">,</span><span class="w">
        </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pagar.me"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234 5678"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-13T18:15:12.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14858</span><span class="p">,</span><span class="w">
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_period_start"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_period_end"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charges"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"canceled"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:41:57.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api@test.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"born_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:40:03.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14437</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card_ci6v2mom200br5616ln4vg10q"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:41:56.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:41:57.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mastercard"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Api Customer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"first_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"548045"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"last_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3123"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HSiLJan2nqwn"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><p>Esse objeto contém os dados das assinaturas geradas pelo seu sistema, que são atreladas a um <strong>plano</strong>.</p><table><thead>
<tr>
<th style="text-align: right">Propriedade</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>object</strong><br> String</td>
<td style="text-align: left">Nome do tipo do objeto criado/modificado. <br> <strong>Valor retornado</strong>: <code class="prettyprint">subscription</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>plan</strong><br> Object</td>
<td style="text-align: left">Objeto com os dados do plano que a assinatura está associada</td>
</tr>
<tr>
<td style="text-align: right"><strong>id</strong><br> Number</td>
<td style="text-align: left">Número identificador do plano</td>
</tr>
<tr>
<td style="text-align: right"><strong>current_transaction</strong><br> Object</td>
<td style="text-align: left">Objeto com os dados da última transação realizada nessa assinatura</td>
</tr>
<tr>
<td style="text-align: right"><strong>postback_url</strong><br> String</td>
<td style="text-align: left">Endpoint da aplicação integrada ao Pagar.me que irá receber os jsons de resposta a cada atualização dos processos</td>
</tr>
<tr>
<td style="text-align: right"><strong>payment_method</strong><br> String</td>
<td style="text-align: left">Método de pagamento associado a essa assinatura</td>
</tr>
<tr>
<td style="text-align: right"><strong>current_period_start</strong><br> String</td>
<td style="text-align: left">Início do período de cobrança da assinatura</td>
</tr>
<tr>
<td style="text-align: right"><strong>current_period_end</strong><br> String</td>
<td style="text-align: left">Término do período de cobrança da assinatura</td>
</tr>
<tr>
<td style="text-align: right"><strong>charges</strong><br> Number</td>
<td style="text-align: left">Número de cobranças que foram efetuadas na assinatura, <strong>sem contar a cobrança inicial da assinatura no caso de cartão de crédito</strong>.</td>
</tr>
<tr>
<td style="text-align: right"><strong>status</strong><br> String</td>
<td style="text-align: left">Possíveis estados da transação/assinatura <br> <strong>Valores possíveis</strong>: <code class="prettyprint">trialing</code>, <code class="prettyprint">paid</code>, <code class="prettyprint">pending_payment</code>, <code class="prettyprint">unpaid</code>, <code class="prettyprint">canceled</code>, <code class="prettyprint">ended</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>date_created</strong><br> String</td>
<td style="text-align: left">Data da criação da assinatura</td>
</tr>
<tr>
<td style="text-align: right"><strong>phone</strong><br> Object</td>
<td style="text-align: left">Objeto com dados do telefone do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>address</strong><br> Object</td>
<td style="text-align: left">Objeto com dados do endereço do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer</strong><br> Object</td>
<td style="text-align: left">Objeto com dados do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>card</strong><br> Object</td>
<td style="text-align: left">Objeto com dados do cartão do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>metadata</strong><br> Object</td>
<td style="text-align: left">Objeto com dados adicionais do cliente/produto/serviço vendido</td>
</tr>
</tbody></table><div name="criando-assinaturas" data-unique="criando-assinaturas"></div></yay>
VM119:14 <yay><h2 id="criando-assinaturas">Criando assinaturas</h2><blockquote>
<p>POST https://api.pagar.me/1/subscriptions</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X POST https://api.pagar.me/1/subscriptions <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_TSgC3nrsdidfHAas24shu43HUhurw9'</span> <span class="se">\</span>
-d <span class="s1">'customer[email]=api@test.com'</span> <span class="se">\</span>
-d <span class="s1">'plan_id=12783'</span> <span class="se">\</span>
-d <span class="s1">'card_id=card_ci234fx8rr649rt16rtb11132'</span> <span class="se">\</span>
-d <span class="s1">'postback_url=http://requestb.in/zyn5obzy'</span> <span class="se">\</span>
-d <span class="s1">'payment_method=boleto'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span>

<span class="n">plan</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Plan</span><span class="p">.</span><span class="nf">find_by_id</span><span class="p">(</span><span class="s2">"12783"</span><span class="p">)</span>

<span class="n">subscription</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Subscription</span><span class="p">.</span><span class="nf">new</span><span class="p">({</span>
    <span class="ss">:payment_method</span> <span class="o">=&gt;</span> <span class="s1">'boleto'</span><span class="p">,</span>
    <span class="ss">:card_number</span> <span class="o">=&gt;</span> <span class="s2">"4901720080344448"</span><span class="p">,</span>
    <span class="ss">:card_holder_name</span> <span class="o">=&gt;</span> <span class="s2">"Jose da Silva"</span><span class="p">,</span>
    <span class="ss">:card_expiration_month</span> <span class="o">=&gt;</span> <span class="s2">"10"</span><span class="p">,</span>
    <span class="ss">:card_expiration_year</span> <span class="o">=&gt;</span> <span class="s2">"15"</span><span class="p">,</span>
    <span class="ss">:card_cvv</span> <span class="o">=&gt;</span> <span class="s2">"314"</span><span class="p">,</span>
    <span class="ss">:postback_url</span> <span class="o">=&gt;</span> <span class="s2">"http://test.com/postback"</span><span class="p">,</span>
    <span class="ss">:customer</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="ss">email: </span><span class="s1">'api@test.com'</span>
<span class="p">})</span>
<span class="n">subscription</span><span class="p">.</span><span class="nf">plan</span> <span class="o">=</span> <span class="n">plan</span>

<span class="n">subscription</span><span class="p">.</span><span class="nf">create</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>

    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$plan</span> <span class="o">=</span> <span class="nx">PagarMe_Plan</span><span class="o">::</span><span class="na">findById</span><span class="p">(</span><span class="s2">"13850"</span><span class="p">);</span>

    <span class="nv">$subscription</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PagarMe_Subscription</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
        <span class="s2">"plan"</span> <span class="o">=&gt;</span> <span class="nv">$plan</span><span class="p">,</span>
        <span class="s2">"card_number"</span> <span class="o">=&gt;</span> <span class="s2">"4901720080344448"</span><span class="p">,</span>
        <span class="s2">"card_holder_name"</span> <span class="o">=&gt;</span> <span class="s2">"Jose da Silva"</span><span class="p">,</span>
        <span class="s2">"card_expiration_month"</span> <span class="o">=&gt;</span> <span class="mi">12</span><span class="p">,</span>
        <span class="s2">"card_expiration_year"</span> <span class="o">=&gt;</span> <span class="mi">15</span><span class="p">,</span>
        <span class="s2">"card_cvv"</span> <span class="o">=&gt;</span> <span class="s2">"123"</span><span class="p">,</span>
        <span class="s1">'customer'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'api@test.com'</span>
        <span class="p">)));</span>

    <span class="nv">$subscription</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span>

<span class="cp">?&gt;</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code><span class="n">PagarMeService</span><span class="p">.</span><span class="n">DefaultApiKey</span> <span class="p">=</span> <span class="s">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>

<span class="n">Subscription</span> <span class="n">subscription</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Subscription</span><span class="p">();</span>
<span class="n">subscription</span><span class="p">.</span><span class="n">CardNumber</span> <span class="p">=</span> <span class="s">"4901720080344448"</span><span class="p">;</span>
<span class="n">subscription</span><span class="p">.</span><span class="n">CardHolderName</span> <span class="p">=</span> <span class="s">"Jose da Silva"</span><span class="p">;</span>
<span class="n">subscription</span><span class="p">.</span><span class="n">CardExpirationDate</span> <span class="p">=</span> <span class="s">"1215"</span><span class="p">;</span>
<span class="n">subscription</span><span class="p">.</span><span class="n">CardCvv</span> <span class="p">=</span> <span class="s">"123"</span><span class="p">;</span>

<span class="n">Customer</span> <span class="n">customer</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Customer</span><span class="p">();</span>
<span class="n">customer</span><span class="p">.</span><span class="n">Email</span> <span class="p">=</span> <span class="s">"api@test.com"</span><span class="p">;</span>
<span class="n">subscription</span><span class="p">.</span><span class="n">Customer</span> <span class="p">=</span> <span class="n">customer</span><span class="p">;</span>

<span class="n">subscription</span><span class="p">.</span><span class="nf">Save</span><span class="p">();</span>
</code></pre><p>Para efetivamente cobrar seu cliente de forma recorrente, você deve criar uma <strong>assinatura</strong>, que atrelada a um <strong>plano</strong>, conterá os dados de cobrança.</p><p>A criação de uma <code class="prettyprint">subscription</code> (assinatura) é parecida com a criação de uma transação. Veja mais detalhes sobre como cobrar seu cliente de forma recorrente <a href="https://pagar.me/docs/plans-subscriptions/#criando-uma-assinatura">aqui</a>.</p><p><strong>OBS</strong>: Você pode passar os objetos <code class="prettyprint">customer</code> e <code class="prettyprint">metadata</code> na criação de uma assinatura, assim como feito na criação de uma transação. A diferença é que a propriedade <code class="prettyprint">customer[email]</code> é obrigatória na criação da <strong>assinatura</strong>. </p><p><strong>OBS</strong>: As transações criadas pelas assinaturas não passam pelo antifraude, devido a ocorrência de fraudes nesse tipo de serviço serem praticamente nulas.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscription"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"plan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plan"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12783</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">31000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"days"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plano Ouro"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"trial_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-03T16:56:32.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"boleto"</span><span class="p">,</span><span class="w"> </span><span class="s2">"credit_card"</span><span class="p">],</span><span class="w">
        </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"charges"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">16892</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"waiting_payment"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-14T20:17:18.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-14T20:17:19.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">31000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">194402</span><span class="p">,</span><span class="w">
        </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"card_last_digits"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"card_first_digits"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pagar.me"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234 5678"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-21T20:17:18.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api_key"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"179.185.132.108"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">16892</span><span class="p">,</span><span class="w">
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://requestb.in/zyn5obzy"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_period_start"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_period_end"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charges"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unpaid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-14T20:17:19.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api@test.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"born_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:40:03.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14437</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>plan_id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">id do plano a ser associado a uma assinatura</td>
</tr>
<tr>
<td style="text-align: right"><strong>card_hash</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Dados encriptados do cartão do cliente. Você também pode usar o <code class="prettyprint">card_id</code> ao invés do <code class="prettyprint">card_hash</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>postback_url</strong></td>
<td style="text-align: left">URL onde nosso sistema irá enviar requisições informando a cada alteração de status da assinatura em questão</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[email]</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Email do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[name]</strong><br> <span class="required">obrigatório (com antifraude)</span></td>
<td style="text-align: left">Nome completo ou razão social do cliente que está realizando a transação</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[document_number]</strong><br> <span class="required">obrigatório (com antifraude)</span></td>
<td style="text-align: left">CPF ou CNPJ do cliente, sem separadores</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[address][street]</strong><br> <span class="required">obrigatório (com antifraude)</span></td>
<td style="text-align: left">logradouro (rua, avenida, etc) do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[address][street_number]</strong><br> <span class="required">obrigatório (com antifraude)</span></td>
<td style="text-align: left">Número da residência/estabelecimento do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[address][complementary]</strong></td>
<td style="text-align: left">completo do endereço do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[address][neighborhood]</strong><br> <span class="required">obrigatório (com antifraude)</span></td>
<td style="text-align: left">bairro de localização do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[address][zipcode]</strong><br> <span class="required">obrigatório (com antifraude)</span></td>
<td style="text-align: left">CEP do imóvel do cliente, sem separadores</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[phone][ddd]</strong><br> <span class="required">obrigatório (com antifraude)</span></td>
<td style="text-align: left">DDD do telefone do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[phone][number]</strong><br> <span class="required">obrigatório (com antifraude)</span></td>
<td style="text-align: left">número de telefone do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[sex]</strong><br> <code class="prettyprint">M</code> ou <code class="prettyprint">F</code> (letras maiúsculas)</td>
<td style="text-align: left">sexo do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer[born_at]</strong><br> Formato: <code class="prettyprint">MM-DD-AAAA</code></td>
<td style="text-align: left">Data de nascimento do cliente.<br>Ex: 11-02-1985</td>
</tr>
<tr>
<td style="text-align: right"><strong>metadata</strong></td>
<td style="text-align: left">Você pode passar dados adicionais na criação da transação para posteriormente filtrar estas na nossa dashboard. Ex: <code class="prettyprint">metadata[ idProduto ]=13933139</code></td>
</tr>
</tbody></table><div name="retornando-uma-assinatura" data-unique="retornando-uma-assinatura"></div></yay>
VM119:14 <yay><h2 id="retornando-uma-assinatura">Retornando uma assinatura</h2><blockquote>
<p>GET https://api.pagar.me/1/subscriptions/:id</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/subscriptions/14858 <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span>

<span class="n">subscription</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Subscription</span><span class="p">.</span><span class="nf">find_by_id</span><span class="p">(</span><span class="s2">"14858"</span><span class="p">)</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>

    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$subscription</span> <span class="o">=</span> <span class="nx">PagarMe_Subscription</span><span class="o">::</span><span class="na">findById</span><span class="p">(</span><span class="mi">14858</span><span class="p">);</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code><span class="n">PagarMeService</span><span class="p">.</span><span class="n">DefaultApiKey</span> <span class="p">=</span> <span class="s">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>

<span class="n">var</span> <span class="n">subscription</span> <span class="p">=</span> <span class="n">PagarMeService</span><span class="p">.</span><span class="nf">GetDefaultService</span><span class="p">().</span><span class="n">Subscriptions</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="s">"14858"</span><span class="p">);</span>
</code></pre><p>Essa rota é utilizada para retornar os dados de uma determinada assinatura.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscription"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"plan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plan"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12783</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">31000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"days"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plano Ouro"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"trial_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-03T16:56:32.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"credit_card"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"charges"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14858</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11344"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1425494517057"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1425494517057"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:41:56.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:41:57.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">31000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">185122</span><span class="p">,</span><span class="w">
        </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">515</span><span class="p">,</span><span class="w">
        </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit_card"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api_key"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"189.8.94.42"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14858</span><span class="p">,</span><span class="w">
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit_card"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_period_start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:41:56.746Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_period_end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-03T18:41:56.746Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charges"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:41:57.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api@test.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"born_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:40:03.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14437</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card_ci6v2mom200br5616ln4vg10q"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:41:56.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:41:57.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mastercard"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Api Customer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"first_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"548045"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"last_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3123"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HSiLJan2nqwn"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Id da assinatura</td>
</tr>
</tbody></table><div name="retornando-assinaturas" data-unique="retornando-assinaturas"></div></yay>
VM119:14 <yay><h2 id="retornando-assinaturas">Retornando assinaturas</h2><blockquote>
<p>GET https://api.pagar.me/1/subscriptions</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/subscriptions <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> <span class="se">\</span>
-d <span class="s1">'page=1'</span> <span class="se">\</span>
-d <span class="s1">'count=2'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span>

<span class="n">subscriptions</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Subscription</span><span class="p">.</span><span class="nf">all</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>

    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$subscription</span> <span class="o">=</span> <span class="nx">PagarMe_Subscription</span><span class="o">::</span><span class="na">all</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code><span class="n">PagarMeService</span><span class="p">.</span><span class="n">DefaultApiKey</span> <span class="p">=</span> <span class="s">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>

<span class="n">var</span> <span class="n">subscriptions</span> <span class="p">=</span> <span class="n">PagarMeService</span><span class="p">.</span><span class="nf">GetDefaultService</span><span class="p">().</span><span class="n">Subscriptions</span><span class="p">.</span><span class="nf">FindAll</span><span class="p">(</span><span class="k">new</span> <span class="nf">Subscription</span><span class="p">());</span>
</code></pre><p>Essa rota é utilizada para retornar os dados de todas assinaturas.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscription"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"plan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plan"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12830</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1300</span><span class="p">,</span><span class="w">
        </span><span class="nt">"days"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plano Prata"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"trial_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T17:25:25.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"credit_card"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"charges"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15186</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"934740"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1427840452918"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1427840452918"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-31T22:20:52.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-31T22:20:53.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">62000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">191522</span><span class="p">,</span><span class="w">
        </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">980</span><span class="p">,</span><span class="w">
        </span><span class="nt">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API CUSTOMER"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"card_last_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8048"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"card_first_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"401872"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit_card"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api_key"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"189.8.94.42"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15186</span><span class="p">,</span><span class="w">
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit_card"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"card_last_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8048"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_period_start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-31T22:20:53.320Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_period_end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-15T22:20:53.320Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charges"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-13T20:56:31.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api@test.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"born_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:40:03.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14437</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card_ci6y37hc00030a416wrxsmzyi"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T21:21:25.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T21:21:26.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API CUSTOMER"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"first_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"401872"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"last_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8048"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jl9oOIiDjAjR"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscription"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"plan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plan"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14335</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15590</span><span class="p">,</span><span class="w">
        </span><span class="nt">"days"</span><span class="p">:</span><span class="w"> </span><span class="mi">180</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plano Semestral"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"trial_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-13T21:04:18.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"credit_card"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"charges"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15185</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"waiting_payment"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-13T21:05:07.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-13T21:05:07.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3630</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">186443</span><span class="p">,</span><span class="w">
        </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"card_last_digits"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"card_first_digits"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pagar.me"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234 5678"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-20T21:05:07.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15185</span><span class="p">,</span><span class="w">
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"card_last_digits"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_period_start"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_period_end"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charges"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unpaid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-13T20:54:30.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api@test.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"born_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:40:03.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14437</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
</tbody></table><div name="atualizando-uma-assinatura" data-unique="atualizando-uma-assinatura"></div></yay>
VM119:14 <yay><h2 id="atualizando-uma-assinatura">Atualizando uma assinatura</h2><blockquote>
<p>PUT https://api.pagar.me/1/subscriptions/:id</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X PUT https://api.pagar.me/1/subscriptions/14858 <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> <span class="se">\</span>
-d <span class="s1">'plan_id=12830'</span> <span class="se">\</span>
-d <span class="s1">'payment_method=credit_card'</span> <span class="se">\</span>
-d <span class="s1">'card_id=card_ci6y37hc00030a416wrxsmzyi'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span>

<span class="n">subscription</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Subscription</span><span class="p">.</span><span class="nf">find_by_id</span><span class="p">(</span><span class="mi">14858</span><span class="p">)</span>

<span class="n">subscription</span><span class="p">.</span><span class="nf">payment_method</span> <span class="o">=</span> <span class="s1">'boleto'</span>

<span class="n">subscription</span><span class="p">.</span><span class="nf">save</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>

    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$subscription</span> <span class="o">=</span> <span class="nx">PagarMe_Subscription</span><span class="o">::</span><span class="na">findById</span><span class="p">(</span><span class="mi">14858</span><span class="p">);</span>
    <span class="nv">$subscription</span><span class="o">-&gt;</span><span class="na">setPaymentMethod</span><span class="p">(</span><span class="s2">"boleto"</span><span class="p">);</span>

    <span class="nv">$subscription</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Após criar uma assinatura, você pode atualizar os dados do <strong>método do pagamento</strong> e o <strong>plano</strong> que essa assinatura está atrelada.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscription"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"plan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plan"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12830</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1300</span><span class="p">,</span><span class="w">
        </span><span class="nt">"days"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plano Prata"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"trial_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T17:25:25.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"credit_card"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"charges"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14858</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"waiting_payment"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T18:15:12.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T18:15:12.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1300</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">185486</span><span class="p">,</span><span class="w">
        </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pagar.me"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234 5678"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-13T18:15:12.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14858</span><span class="p">,</span><span class="w">
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_period_start"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_period_end"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charges"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unpaid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:41:57.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api@test.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"born_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:40:03.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14437</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card_ci6v2mom200br5616ln4vg10q"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:41:56.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:41:57.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mastercard"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Api Customer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"first_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"548045"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"last_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3123"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HSiLJan2nqwn"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>plan_id</strong></td>
<td style="text-align: left">id do novo plano atrelado a assinatura</td>
</tr>
<tr>
<td style="text-align: right"><strong>payment_method</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">método de pagamento utilizado na assinatura. <br> <strong>Valores possíveis</strong>: <code class="prettyprint">credit_card</code>, <code class="prettyprint">boleto</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>card_id</strong></td>
<td style="text-align: left">Identificador dos dados de um cartão previamente salvo na nossa base de dados</td>
</tr>
<tr>
<td style="text-align: right"><strong>card_hash</strong></td>
<td style="text-align: left">Dados encriptados de um cartão de crédito</td>
</tr>
<tr>
<td style="text-align: right"><strong>card_number</strong></td>
<td style="text-align: left">Número de um cartão de crédito. Usado quando o cartão a ser configurado na assinatura ainda não está salvo no nosso banco de dados</td>
</tr>
<tr>
<td style="text-align: right"><strong>card_holder_name</strong></td>
<td style="text-align: left">Nome do portador do cartão. Usado quando o cartão a ser configurado na assinatura ainda não está salvo no nosso banco de dados</td>
</tr>
<tr>
<td style="text-align: right"><strong>card_expiration_date</strong><br> Formato: <code class="prettyprint">MMYY</code></td>
<td style="text-align: left">Data de expiração do cartão. <br> <strong>Ex</strong>: <code class="prettyprint">0518</code> (Maio de 2018)</td>
</tr>
</tbody></table><div name="cancelando-uma-assinatura" data-unique="cancelando-uma-assinatura"></div></yay>
VM119:14 <yay><h2 id="cancelando-uma-assinatura">Cancelando uma assinatura</h2><blockquote>
<p>POST https://api.pagar.me/1/subscriptions/:id/cancel</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X POST https://api.pagar.me/1/subscriptions/14858/cancel <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span>

<span class="n">subscription</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Subscription</span><span class="p">.</span><span class="nf">find_by_id</span><span class="p">(</span><span class="s2">"1234"</span><span class="p">)</span>

<span class="n">subscription</span><span class="p">.</span><span class="nf">cancel</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>

    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$subscription</span> <span class="o">=</span> <span class="nx">PagarMe_Subscription</span><span class="o">::</span><span class="na">findById</span><span class="p">(</span><span class="mi">14858</span><span class="p">);</span>
    <span class="nv">$subscription</span><span class="o">-&gt;</span><span class="na">cancel</span><span class="p">();</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Para cancelar uma assinatura você deve utilizar a rota <code class="prettyprint">/subscriptions/:id/cancel</code></p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscription"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"plan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plan"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12830</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1300</span><span class="p">,</span><span class="w">
        </span><span class="nt">"days"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plano Prata"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"trial_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T17:25:25.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"credit_card"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"charges"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14858</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"waiting_payment"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T18:15:12.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T18:15:12.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1300</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">185486</span><span class="p">,</span><span class="w">
        </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pagar.me"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234 5678"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-13T18:15:12.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14858</span><span class="p">,</span><span class="w">
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_period_start"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_period_end"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charges"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"canceled"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:41:57.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api@test.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"born_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:40:03.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14437</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card_ci6v2mom200br5616ln4vg10q"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:41:56.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:41:57.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mastercard"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Api Customer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"first_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"548045"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"last_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3123"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HSiLJan2nqwn"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Id da assinatura a ser cancelada</td>
</tr>
</tbody></table><div name="transacoes-em-uma-assinatura" data-unique="transacoes-em-uma-assinatura"></div></yay>
VM119:14 <yay><h2 id="transacoes-em-uma-assinatura">Transações em uma assinatura</h2><blockquote>
<p>GET https://api.pagar.me/1/subscriptions/:id/transactions</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/subscriptions/14858/transactions <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Retorna um array de objetos <code class="prettyprint">transaction</code> contendo as transações feitas a partir de uma assinatura.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"waiting_payment"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T18:15:12.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T18:15:12.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1300</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">185486</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pagar.me"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234 5678"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-13T18:15:12.261Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14858</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api@test.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"born_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:40:03.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14437</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card_ci6v2mom200br5616ln4vg10q"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:41:56.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:41:57.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mastercard"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Api Customer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"first_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"548045"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"last_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3123"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HSiLJan2nqwn"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"waiting_payment"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T18:02:25.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T18:02:26.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">31000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">185481</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pagar.me"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234 5678"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-13T18:02:25.904Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14858</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11344"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1425494517057</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="mi">1425494517057</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:41:56.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:41:57.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">31000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">185122</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">515</span><span class="p">,</span><span class="w">
    </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit_card"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api_key"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"189.8.94.42"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14858</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api@test.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"born_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:40:03.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14437</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card_ci6v2mom200br5616ln4vg10q"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:41:56.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-04T18:41:57.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mastercard"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Api Customer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"first_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"548045"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"last_digits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3123"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HSiLJan2nqwn"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Id da assinatura que possui as transações desejadas</td>
</tr>
</tbody></table><div name="postback" data-unique="postback"></div></yay>
VM119:14 <yay><h2 id="postback-de-transacoes">POSTback de transações</h2><blockquote>
<p>Dados enviados via POSTback de uma transação</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"old_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processing"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"current_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"desired_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction_status_changed"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">194330</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><p>Sempre que uma <strong>transação</strong> tiver seu estado alterado, uma notificação será enviada caso tenha sido atribuída uma URL de POSTback na criação desta transação.</p><p><a href="http://puu.sh/hdMYO/9a740bd556.png" target="_blank">Exemplo de retorno via POSTback</a></p><table><thead>
<tr>
<th style="text-align: right">Propriedade</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>old_status</strong><br> String</td>
<td style="text-align: left">Status anterior desta transação. <br> <strong>Valores possíveis</strong>: <code class="prettyprint">processing</code>, <code class="prettyprint">authorized</code>, <code class="prettyprint">waiting_payment</code>, <code class="prettyprint">pending_refund</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>object</strong><br> String</td>
<td style="text-align: left">Nome do tipo do objeto <br> <strong>Valores possíveis</strong>: <code class="prettyprint">transaction</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>current_status</strong><br> String</td>
<td style="text-align: left">Status atual da transação. <br> <strong>Valores possíveis</strong>: <code class="prettyprint">authorized</code>, <code class="prettyprint">paid</code>, <code class="prettyprint">refunded</code>, <code class="prettyprint">waiting_payment</code>, <code class="prettyprint">pending_refund</code>, <code class="prettyprint">refused</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>desired_status</strong><br> String</td>
<td style="text-align: left">Status desejado desta transação se todo o fluxo for respeitado.<br> <strong>Valores possíveis</strong>: <code class="prettyprint">paid</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>event</strong><br> String</td>
<td style="text-align: left">Nome do evento <br> <strong>Valores possíveis</strong>: <code class="prettyprint">transaction_status_changed</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>id</strong><br> Number</td>
<td style="text-align: left">Id da transação</td>
</tr>
</tbody></table><aside class="notice">OBS: Você deve validar os postbacks para garantir que eles foram enviados pela Pagar.me.<br>
  Para isso existe o cabeçalho HTTP `X-Hub-Signature`, <a href="https://docs.pagar.me/advanced#validando-a-origem-de-um-postback">saiba mais</a></aside><div name="postback-de-assinaturas" data-unique="postback-de-assinaturas"></div></yay>
VM119:14 <yay><h2 id="postback-de-assinaturas">POSTback de assinaturas</h2><blockquote>
<p>Dados enviados via POSTback de uma assinatura</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"old_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unpaid"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"current_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"desired_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscription_status_changed"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">16859</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><p>Sempre que uma <strong>assinatura</strong> tiver seu estado alterado, uma notificação será enviada caso tenha sido atribuída uma URL de POSTback na criação desta assinatura.</p><p><a href="http://puu.sh/hdPWZ/fe35cb7980.png" target="_blank">Exemplo de retorno via POSTback</a></p><aside class="notice">OBS: Você deve validar os postbacks para garantir que eles foram enviados pela Pagar.me.<br>
  Para isso existe o cabeçalho HTTP `X-Hub-Signature`, <a href="https://docs.pagar.me/advanced#validando-a-origem-de-um-postback">saiba mais</a></aside><div name="recebiveis" data-unique="recebiveis"></div></yay>
VM119:14 <yay><h2 id="objeto-payable">Objeto <code class="prettyprint">payable</code></h2><blockquote>
<p>Objeto payable</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">700</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installment"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">191517</span><span class="p">,</span><span class="w">
    </span><span class="nt">"split_rule_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sr_ci7xsejbp000awq16wr5rkweh"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-31T03:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-31T22:16:21.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><p>Objeto contendo os dados de um recebível. O recebível (<code class="prettyprint">payable</code>) é gerado automaticamente após uma transação ser paga, para cada parcela de uma transação é gerado um recebível, que também podem ser divididos por recebedor (no caso de um split ter sido feito).</p><p><strong>Ex</strong>: Uma transação paga com 5 parcelas e 3 recebedores nas regras de split irá gerar 15 (5 x 3) recebíveis. Com isso você tem controle sobre a menor divisão possível de um pagamento. </p><table><thead>
<tr>
<th style="text-align: right">Propriedade</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>object</strong><br> String</td>
<td style="text-align: left">Nome do tipo do objeto criado/modificado. <br> <strong>Valor retornado</strong>: <code class="prettyprint">payable</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>id</strong><br> Number</td>
<td style="text-align: left">Identificador do recebível</td>
</tr>
<tr>
<td style="text-align: right"><strong>status</strong><br> String</td>
<td style="text-align: left">Estado atual do recebível. <br> <strong>Valores possíveis</strong>: <code class="prettyprint">waiting_funds</code>, <code class="prettyprint">paid</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>amount</strong><br> Number</td>
<td style="text-align: left">Valor em centavos que foi pago</td>
</tr>
<tr>
<td style="text-align: right"><strong>fee</strong><br> Number</td>
<td style="text-align: left">Valor em centavos que foi cobrado (taxa)</td>
</tr>
<tr>
<td style="text-align: right"><strong>installment</strong><br> Number</td>
<td style="text-align: left">Número da parcela</td>
</tr>
<tr>
<td style="text-align: right"><strong>transaction_id</strong><br> Number</td>
<td style="text-align: left">Identificador da transação que gerou o recebível</td>
</tr>
<tr>
<td style="text-align: right"><strong>split_rule_id</strong><br> String</td>
<td style="text-align: left">Identificador da regra de split do recebível</td>
</tr>
<tr>
<td style="text-align: right"><strong>payment_date</strong><br> String</td>
<td style="text-align: left">Dia e hora do pagamento (ISODate)</td>
</tr>
<tr>
<td style="text-align: right"><strong>type</strong><br> String</td>
<td style="text-align: left">Tipo do recebível. <br> <strong>Valores possíveis</strong>: <code class="prettyprint">credit</code>, <code class="prettyprint">refund</code> e <code class="prettyprint">chargeback</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>date_created</strong><br> String</td>
<td style="text-align: left">Data da criação do objeto (ISODate)</td>
</tr>
</tbody></table><div name="retornando-recebiveis" data-unique="retornando-recebiveis"></div></yay>
VM119:14 <yay><h2 id="retornando-recebiveis">Retornando recebíveis</h2><blockquote>
<p>GET https://api.pagar.me/1/payables</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/payables <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> <span class="se">\</span>
-d <span class="s1">'count=3'</span> <span class="se">\</span>
-d <span class="s1">'page=1'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Retorna todos os recebíveis da sua empresa.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">700</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installment"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">191517</span><span class="p">,</span><span class="w">
    </span><span class="nt">"split_rule_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sr_ci7xsejbp000awq16wr5rkweh"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-31T03:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-31T22:16:21.000Z"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1464</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installment"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">191517</span><span class="p">,</span><span class="w">
    </span><span class="nt">"split_rule_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sr_ci7xsejbn0009wq16h3ybjgif"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-31T03:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-31T22:16:21.000Z"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1462</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">91000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installment"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">191508</span><span class="p">,</span><span class="w">
    </span><span class="nt">"split_rule_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sr_ci7xru0nx005ckx16zjnvft7x"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-31T03:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-31T20:43:05.000Z"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
</tbody></table><aside class="notice">OBS: Você pode passar qualquer propriedade e valor presentes nos objetos `payable` como parâmetro de busca/filtro nesta rota. Ex: `status=“waiting_funds”` ou `recipient_id=“re_ci7nhf1ay0007n016wd5t22nl”` <br> <br>Também é possível filtrar por intervalo de tempo, definindo um intervalo para o parâmetro `payment_date`. </aside><div name="retornando-um-recebivel" data-unique="retornando-um-recebivel"></div></yay>
VM119:14 <yay><h2 id="retornando-um-recebivel">Retornando um recebível</h2><blockquote>
<p>GET https://api.pagar.me/1/payables/:id</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/payables/1465 <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Retorna um recebível de sua conta.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1465</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">700</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
    </span><span class="nt">"installment"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">191517</span><span class="p">,</span><span class="w">
    </span><span class="nt">"split_rule_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sr_ci7xsejbp000awq16wr5rkweh"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-31T03:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-31T22:16:21.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Id do recebível</td>
</tr>
</tbody></table><div name="saldo" data-unique="saldo"></div></yay>
VM119:14 <yay><h2 id="objeto-balance">Objeto <code class="prettyprint">balance</code></h2><blockquote>
<p>Objeto balance</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balance"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"waiting_funds"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"available"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3169323</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"transferred"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3163500</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><p>Com este objeto, você pode obter informações gerais sobre o saldo da sua conta.</p><table><thead>
<tr>
<th style="text-align: right">Propriedade</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>object</strong><br> String</td>
<td style="text-align: left">Nome do tipo do objeto criado/modificado. <br> <strong>Valor retornado</strong>: <code class="prettyprint">balance</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>waiting_funds</strong><br> Object</td>
<td style="text-align: left">Possui a propriedade <code class="prettyprint">amount</code>, que representa quanto, em centavos, você tem a receber do Pagar.me</td>
</tr>
<tr>
<td style="text-align: right"><strong>available</strong><br> Object</td>
<td style="text-align: left">Possui a propriedade <code class="prettyprint">amount</code>, que representa quanto, em centavos, você tem disponível em sua conta Pagar.me</td>
</tr>
<tr>
<td style="text-align: right"><strong>transferred</strong><br> Object</td>
<td style="text-align: left">Possui a propriedade <code class="prettyprint">amount</code>, que representa quanto, em centavos, você já transferiu para sua conta bancária (quanto já recebeu efetivamente)</td>
</tr>
</tbody></table><div name="saldo-geral-das-operacoes" data-unique="saldo-geral-das-operacoes"></div></yay>
VM119:14 <yay><h2 id="saldo-geral-das-operacoes">Saldo geral das operações</h2><blockquote>
<p>GET https://api.pagar.me/1/balance</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X  GET https://api.pagar.me/1/balance <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> 
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Com essa rota <code class="prettyprint">/balance</code> você poderá consultar o saldo gerado pelas suas transações.</p><p><strong>OBS</strong>: os valores retornados estão em <strong>centavos</strong>.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balance"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"waiting_funds"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"available"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3019898</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"transferred"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3163500</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>recipient_id</strong><br> default: <code class="prettyprint">null</code></td>
<td style="text-align: left">Id de um recebedor específico, caso queira obter o saldo específico dele</td>
</tr>
</tbody></table><div name="operacoes-de-saldo" data-unique="operacoes-de-saldo"></div></yay>
VM119:14 <yay><h2 id="objeto-balance_operation">Objeto <code class="prettyprint">balance_operation</code></h2><blockquote>
<p>Objeto balance_operation</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balance_operation"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4861</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3019898</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance_old_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2920013</span><span class="p">,</span><span class="w">
    </span><span class="nt">"movement_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T21:00:31.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"movement_object"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1297</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">185537</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T03:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T21:00:31.000Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><p>Com este objeto você poderá acompanhar como estava/está seu saldo a cada movimentação bancária.</p><table><thead>
<tr>
<th style="text-align: right">Propriedade</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>object</strong><br> String</td>
<td style="text-align: left">Nome do tipo do objeto criado/modificado. <br> <strong>Valor retornado</strong>: <code class="prettyprint">balance_operation</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>id</strong><br> String</td>
<td style="text-align: left">Identificador da operação</td>
</tr>
<tr>
<td style="text-align: right"><strong>status</strong><br> String</td>
<td style="text-align: left">Estado do saldo da conta. <br> <strong>Valores possíveis</strong>: <code class="prettyprint">waiting_funds</code>, <code class="prettyprint">available</code> e <code class="prettyprint">transferred</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>balance_amount</strong><br> Number</td>
<td style="text-align: left">Saldo atual da conta</td>
</tr>
<tr>
<td style="text-align: right"><strong>movement_type</strong><br> String</td>
<td style="text-align: left">O que gerou a movimentação. <br> <strong>Valores possíveis</strong>: <code class="prettyprint">payable</code>, <code class="prettyprint">transaction</code> ou <code class="prettyprint">anticipation</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>amount</strong><br> Number</td>
<td style="text-align: left">Valor transacionado para a conta</td>
</tr>
<tr>
<td style="text-align: right"><strong>fee</strong><br> Number</td>
<td style="text-align: left">Taxa cobrada pela transação</td>
</tr>
<tr>
<td style="text-align: right"><strong>date_created</strong><br> String</td>
<td style="text-align: left">Data da movimentação</td>
</tr>
<tr>
<td style="text-align: right"><strong>movement_object</strong><br> Object</td>
<td style="text-align: left">Objeto da origem da movimentação</td>
</tr>
</tbody></table><div name="historico-das-operacoes" data-unique="historico-das-operacoes"></div></yay>
VM119:14 <yay><h2 id="historico-das-operacoes">Histórico das operações</h2><blockquote>
<p>GET https://api.pagar.me/1/balance/operations</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X  GET https://api.pagar.me/1/balance/operations <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> 
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Com a rota <code class="prettyprint">/balance/operations</code> você poderá ver todos os movimentos ocorridos no saldo da sua conta.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balance_operation"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4861</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3019898</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance_old_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2920013</span><span class="p">,</span><span class="w">
    </span><span class="nt">"movement_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T21:00:31.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"movement_object"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1297</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">185537</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T03:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T21:00:31.000Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balance_operation"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4852</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2920013</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance_old_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2910128</span><span class="p">,</span><span class="w">
    </span><span class="nt">"movement_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T18:44:42.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"movement_object"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1294</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">185507</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T03:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T18:44:42.000Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balance_operation"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4840</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2910128</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance_old_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2880243</span><span class="p">,</span><span class="w">
    </span><span class="nt">"movement_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">30000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-05T19:32:36.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"movement_object"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1290</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">30000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">185273</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-05T03:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-05T19:32:35.000Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>count</strong><br> default: <code class="prettyprint">10</code></td>
<td style="text-align: left">Retorna <code class="prettyprint">n</code> objetos de operação de saldo</td>
</tr>
<tr>
<td style="text-align: right"><strong>page</strong><br> default: <code class="prettyprint">1</code></td>
<td style="text-align: left">Útil para implementação de uma paginação de resultados</td>
</tr>
</tbody></table><div name="historico-especifico-de-uma-operacao" data-unique="historico-especifico-de-uma-operacao"></div></yay>
VM119:14 <yay><h2 id="historico-especifico-de-uma-operacao">Histórico específico de uma operação</h2><blockquote>
<p>GET https://api.pagar.me/1/balance/operations/:id</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X  GET https://api.pagar.me/1/balance/operations/4861 <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> 
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Com a rota <code class="prettyprint">/balance/operations/:id</code> você poderá ver uma operação específica ocorrida no saldo da sua conta.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balance_operation"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4861</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3019898</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance_old_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2920013</span><span class="p">,</span><span class="w">
    </span><span class="nt">"movement_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T21:00:31.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"movement_object"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1297</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">185537</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T03:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T21:00:31.000Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Id da operação desejada</td>
</tr>
</tbody></table><div name="contas-bancarias" data-unique="contas-bancarias"></div></yay>
VM119:14 <yay><h2 id="objeto-bank_account">Objeto <code class="prettyprint">bank_account</code></h2><blockquote>
<p>Objeto bank_account</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank_account"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4840</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"341"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"agencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0932"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"agencia_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"conta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58054"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"conta_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26268738888"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API BANK ACCOUNT"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charge_transfer_fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-19T15:35:40.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><p>Contém os dados de uma conta bancária para futuros pagamentos.</p><table><thead>
<tr>
<th style="text-align: right">Propriedade</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>object</strong><br> String</td>
<td style="text-align: left">Nome do tipo do objeto criado/modificado. <br> <strong>Valor retornado</strong>: <code class="prettyprint">bank_account</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>id</strong><br> String</td>
<td style="text-align: left">Identificador da conta bancária</td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_code</strong><br> String</td>
<td style="text-align: left">Valor identificador do código do banco</td>
</tr>
<tr>
<td style="text-align: right"><strong>agencia</strong><br> String</td>
<td style="text-align: left">Valor identificador da agência a qual a conta pertence</td>
</tr>
<tr>
<td style="text-align: right"><strong>agencia_dv</strong><br> String</td>
<td style="text-align: left">Dígito verificador da agência</td>
</tr>
<tr>
<td style="text-align: right"><strong>conta</strong><br> String</td>
<td style="text-align: left">Número da conta bancária</td>
</tr>
<tr>
<td style="text-align: right"><strong>conta_dv</strong><br> String</td>
<td style="text-align: left">Dígito verificador da conta</td>
</tr>
<tr>
<td style="text-align: right"><strong>document_type</strong><br> String</td>
<td style="text-align: left">Tipo do documento do titular da conta</td>
</tr>
<tr>
<td style="text-align: right"><strong>document_number</strong><br> String</td>
<td style="text-align: left">Número do documento do titular da conta (cpf ou cnpj)</td>
</tr>
<tr>
<td style="text-align: right"><strong>legal_name</strong><br> String</td>
<td style="text-align: left">Nome completo (se pessoa física) ou Razão Social (se pessoa jurídica)</td>
</tr>
<tr>
<td style="text-align: right"><strong>date_created</strong><br> String</td>
<td style="text-align: left">Data de criação da conta bancária (ISODate)</td>
</tr>
</tbody></table><div name="criando-uma-conta-bancaria" data-unique="criando-uma-conta-bancaria"></div></yay>
VM119:14 <yay><h2 id="criando-uma-conta-bancaria">Criando uma conta bancária</h2><blockquote>
<p>POST https://api.pagar.me/1/bank_accounts</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X POST https://api.pagar.me/1/bank_accounts <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> <span class="se">\</span>
-d <span class="s1">'bank_code=341'</span> <span class="se">\</span>
-d <span class="s1">'agencia=0932'</span> <span class="se">\</span>
-d <span class="s1">'agencia_dv=5'</span> <span class="se">\</span>
-d <span class="s1">'conta=58054'</span> <span class="se">\</span>
-d <span class="s1">'conta_dv=1'</span> <span class="se">\</span>
-d <span class="s1">'document_number=26268738888'</span> <span class="se">\</span>
-d <span class="s1">'legal_name=API BANK ACCOUNT'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>

<span class="n">bank_account</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">BankAccount</span><span class="p">.</span><span class="nf">new</span><span class="p">({</span>
    <span class="ss">:bank_code</span> <span class="o">=&gt;</span> <span class="s1">'237'</span><span class="p">,</span>
    <span class="ss">:agencia</span> <span class="o">=&gt;</span> <span class="s1">'1935'</span><span class="p">,</span>
    <span class="ss">:agencia_dv</span> <span class="o">=&gt;</span> <span class="s1">'9'</span><span class="p">,</span>
    <span class="ss">:conta</span> <span class="o">=&gt;</span> <span class="s1">'23398'</span><span class="p">,</span>
    <span class="ss">:conta_dv</span> <span class="o">=&gt;</span> <span class="s1">'9'</span><span class="p">,</span>
    <span class="ss">:legal_name</span> <span class="o">=&gt;</span> <span class="s1">'foo bar loem'</span><span class="p">,</span>
    <span class="ss">:document_number</span> <span class="o">=&gt;</span> <span class="s1">'111.111.111-11'</span>
<span class="p">})</span>

<span class="n">bank_account</span><span class="p">.</span><span class="nf">create</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>
    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$account</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Pagarme_Bank_Account</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
        <span class="s2">"bank_code"</span> <span class="o">=&gt;</span> <span class="s2">"341"</span><span class="p">,</span>
        <span class="s2">"agencia"</span> <span class="o">=&gt;</span> <span class="s2">"0932"</span><span class="p">,</span>
        <span class="s2">"agencia_dv"</span> <span class="o">=&gt;</span> <span class="s2">"5"</span><span class="p">,</span>
        <span class="s2">"conta"</span> <span class="o">=&gt;</span> <span class="s2">"58054"</span><span class="p">,</span>
        <span class="s2">"conta_dv"</span> <span class="o">=&gt;</span> <span class="s2">"1"</span><span class="p">,</span>
        <span class="s2">"document_number"</span> <span class="o">=&gt;</span> <span class="s2">"26268738888"</span><span class="p">,</span>
        <span class="s2">"legal_name"</span> <span class="o">=&gt;</span> <span class="s2">"API BANK ACCOUNT"</span>
    <span class="p">));</span>
    <span class="nv">$account</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code><span class="n">PagarMeService</span><span class="p">.</span><span class="n">DefaultApiKey</span> <span class="p">=</span> <span class="s">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>

<span class="n">BankAccount</span> <span class="n">b</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">BankAccount</span><span class="p">();</span>
<span class="n">b</span><span class="p">.</span><span class="n">Agencia</span> <span class="p">=</span> <span class="s">"0192"</span><span class="p">;</span>
<span class="n">b</span><span class="p">.</span><span class="n">AgenciaDv</span> <span class="p">=</span> <span class="s">"0"</span><span class="p">;</span>
<span class="n">b</span><span class="p">.</span><span class="n">Conta</span> <span class="p">=</span> <span class="s">"03245"</span><span class="p">;</span>
<span class="n">b</span><span class="p">.</span><span class="n">ContaDv</span> <span class="p">=</span> <span class="s">"0"</span><span class="p">;</span>
<span class="n">b</span><span class="p">.</span><span class="n">BankCode</span> <span class="p">=</span> <span class="s">"0341"</span><span class="p">;</span>
<span class="n">b</span><span class="p">.</span><span class="n">DocumentNumber</span> <span class="p">=</span> <span class="s">"26268738888"</span><span class="p">;</span>
<span class="n">b</span><span class="p">.</span><span class="n">LegalName</span> <span class="p">=</span> <span class="s">"API BANK ACCOUNT"</span><span class="p">;</span>
<span class="n">b</span><span class="p">.</span><span class="nf">Save</span><span class="p">();</span>
</code></pre><p>Cria uma conta bancária para futuros pagamentos.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank_account"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4840</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"341"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"agencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0932"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"agencia_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"conta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58054"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"conta_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26268738888"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API BANK ACCOUNT"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charge_transfer_fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-19T15:35:40.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_code</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Código do banco <br> <strong>OBS</strong>: Deve conter 3 caracteres, apenas números</td>
</tr>
<tr>
<td style="text-align: right"><strong>agencia</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Agência onde sua conta foi criada <br> <strong>OBS</strong>: Limite de 5 caracteres, apenas números</td>
</tr>
<tr>
<td style="text-align: right"><strong>agencia_dv</strong></td>
<td style="text-align: left">Dígito verificador da sua agência <br> <strong>OBS</strong>: Deve conter 1 dígito, apenas números</td>
</tr>
<tr>
<td style="text-align: right"><strong>conta</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Número da conta bancária <br> <strong>OBS</strong>: Limite de 13 caracteres, apenas números</td>
</tr>
<tr>
<td style="text-align: right"><strong>conta_dv</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Dígito verificador da conta <br> <strong>OBS</strong>: Limite de 2 caracteres, apenas alfanuméricos</td>
</tr>
<tr>
<td style="text-align: right"><strong>document_number</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Documento identificador do titular da conta (cpf ou cnpj)<br> <strong>Ex</strong>: <code class="prettyprint">35146484252</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>legal_name</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Nome completo (se pessoa física) ou razão social (se pessoa jurídica)</td>
</tr>
</tbody></table><div name="retornando-uma-conta-bancaria" data-unique="retornando-uma-conta-bancaria"></div></yay>
VM119:14 <yay><h2 id="retornando-uma-conta-bancaria">Retornando uma conta bancária</h2><blockquote>
<p>GET https://api.pagar.me/1/bank_accounts/:id</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/bank_accounts/4840 <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>

<span class="n">bank_account</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">BankAccount</span><span class="p">.</span><span class="nf">find_by_id</span><span class="p">(</span><span class="s2">"4840"</span><span class="p">)</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>
    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$bank_account</span> <span class="o">=</span> <span class="nx">PagarMe_Bank_Account</span><span class="o">::</span><span class="na">findById</span><span class="p">(</span><span class="s2">"4840"</span><span class="p">);</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code><span class="n">PagarMeService</span><span class="p">.</span><span class="n">DefaultApiKey</span> <span class="p">=</span> <span class="s">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>

<span class="n">var</span> <span class="n">account</span> <span class="p">=</span> <span class="n">PagarMeService</span><span class="p">.</span><span class="nf">GetDefaultService</span><span class="p">().</span><span class="n">BankAccounts</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="s">"4840"</span><span class="p">);</span>
</code></pre><p>Através dessa rota você consegue retornar os dados de uma conta bancária específica.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank_account"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4840</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"341"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"agencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0932"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"agencia_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"conta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58054"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"conta_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26268738888"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API BANK ACCOUNT"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charge_transfer_fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-19T15:35:40.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Id da conta bancária desejada</td>
</tr>
</tbody></table><div name="retornando-varias-contas-bancarias" data-unique="retornando-varias-contas-bancarias"></div></yay>
VM119:14 <yay><h2 id="retornando-varias-contas-bancarias">Retornando várias contas bancárias</h2><blockquote>
<p>GET https://api.pagar.me/1/bank_accounts</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/bank_accounts <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> <span class="se">\</span>
-d <span class="s1">'count=3'</span> <span class="se">\</span>
-d <span class="s1">'page=2'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>

<span class="n">bank_accounts</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">BankAccount</span><span class="p">.</span><span class="nf">find_by</span><span class="p">({</span> <span class="ss">bank_code: </span><span class="s1">'237'</span> <span class="p">})</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>
    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$accounts</span> <span class="o">=</span> <span class="nx">PagarMe_Bank_Account</span><span class="o">::</span><span class="na">all</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code><span class="n">PagarMeService</span><span class="p">.</span><span class="n">DefaultApiKey</span> <span class="p">=</span> <span class="s">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>

<span class="n">var</span> <span class="n">accounts</span> <span class="p">=</span> <span class="n">PagarMeService</span><span class="p">.</span><span class="nf">GetDefaultService</span><span class="p">().</span><span class="n">BankAccounts</span><span class="p">.</span><span class="nf">FindAll</span><span class="p">(</span><span class="k">new</span> <span class="nf">BankAccount</span><span class="p">());</span>
</code></pre><p>Através dessa rota você consegue retornar os dados de várias contas bancárias.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank_account"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4841</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"341"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"agencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0932"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"agencia_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"conta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58054"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"conta_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26268738888"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API BANK ACCOUNT"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charge_transfer_fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-19T15:40:51.000Z"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank_account"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4840</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"341"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"agencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0932"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"agencia_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"conta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58054"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"conta_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26268738888"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API BANK ACCOUNT"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charge_transfer_fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-19T15:35:40.000Z"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank_account"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4839</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"341"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"agencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0932"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"agencia_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"conta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58054"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"conta_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26268738888"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API BANK ACCOUNT"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charge_transfer_fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-19T15:35:14.000Z"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>count</strong><br> default: <code class="prettyprint">10</code></td>
<td style="text-align: left">Retorna <code class="prettyprint">n</code> objetos de conta bancária</td>
</tr>
<tr>
<td style="text-align: right"><strong>page</strong><br> default: <code class="prettyprint">1</code></td>
<td style="text-align: left">Útil para implementação de uma paginação de resultados</td>
</tr>
</tbody></table><div name="recebedores" data-unique="recebedores"></div></yay>
VM119:14 <yay><h2 id="objeto-recipient">Objeto <code class="prettyprint">recipient</code></h2><blockquote>
<p>Objeto recipient</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recipient"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"re_ci9bucss300h1zt6dvywufeqc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bank_account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4841</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"341"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0932"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58054"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26268738888"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API BANK ACCOUNT"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"charge_transfer_fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-19T15:40:51.000Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"transfer_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_transfer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transfer_interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"weekly"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transfer_day"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"automatic_anticipation_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"anticipatable_volume_percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">85</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-05T21:41:48.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-05T21:41:48.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><p>Objeto contendo os dados de um recebedor.</p><table><thead>
<tr>
<th style="text-align: right">Propriedade</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>object</strong><br> String</td>
<td style="text-align: left">Nome do tipo do objeto criado/modificado. <br> <strong>Valor retornado</strong>: <code class="prettyprint">recipient</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>id</strong><br> String</td>
<td style="text-align: left">Identificador do recebedor</td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_account</strong><br> Object</td>
<td style="text-align: left">Objeto contendo os dados bancários do recebedor</td>
</tr>
<tr>
<td style="text-align: right"><strong>transfer_enabled</strong><br> Boolean</td>
<td style="text-align: left">Identifica se o recebedor está habilitado para receber automaticamente ou não</td>
</tr>
<tr>
<td style="text-align: right"><strong>last_transfer</strong><br> String</td>
<td style="text-align: left">Data da última transferência (ISODate)</td>
</tr>
<tr>
<td style="text-align: right"><strong>transfer_interval</strong><br> String</td>
<td style="text-align: left">Frequência na qual o recebedor irá ser pago. <br> <strong>Valores possíveis</strong>: <code class="prettyprint">daily</code>, <code class="prettyprint">weekly</code>, <code class="prettyprint">monthly</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>transfer_day</strong><br> Number</td>
<td style="text-align: left">Dia no qual o recebedor vai ser pago. Para cada <code class="prettyprint">transfer_day</code>, existe uma faixa de pagamento possível. <br> <code class="prettyprint">weekly</code>: 1 a 5, onde 1 é segunda-feira e 5 é sexta-feira <br> <code class="prettyprint">monthly</code>: 1 a 31</td>
</tr>
<tr>
<td style="text-align: right"><strong>automatic_anticipation_enabled</strong><br> Boolean</td>
<td style="text-align: left">Identifica se o recebedor está habilitado para receber automaticamente ou não o valor disponível para antecipação</td>
</tr>
<tr>
<td style="text-align: right"><strong>anticipatable_volume_percentage</strong><br> Number</td>
<td style="text-align: left">Porcentagem do valor passível de antecipação que será antecipado automaticamente</td>
</tr>
<tr>
<td style="text-align: right"><strong>date_created</strong><br> String</td>
<td style="text-align: left">Data de criação do recebedor (ISODate)</td>
</tr>
<tr>
<td style="text-align: right"><strong>date_updated</strong><br> String</td>
<td style="text-align: left">Data de atualização do recebedor</td>
</tr>
</tbody></table><div name="criando-um-recebedor" data-unique="criando-um-recebedor"></div></yay>
VM119:14 <yay><h2 id="criando-um-recebedor">Criando um recebedor</h2><blockquote>
<p>POST https://api.pagar.me/1/recipients</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X POST https://api.pagar.me/1/recipients <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> <span class="se">\</span>
-d <span class="s1">'transfer_interval=weekly'</span> <span class="se">\</span>
-d <span class="s1">'transfer_day=5'</span> <span class="se">\</span>
-d <span class="s1">'transfer_enabled=true'</span> <span class="se">\</span>
-d <span class="s1">'automatic_anticipation_enabled=true'</span> <span class="se">\</span>
-d <span class="s1">'anticipatable_volume_percentage=85'</span>
-d <span class="s1">'bank_account_id=4841'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>
    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$recipient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PagarMe_Recipient</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
        <span class="s2">"transfer_interval"</span> <span class="o">=&gt;</span> <span class="s2">"weekly"</span><span class="p">,</span>
        <span class="s2">"transfer_day"</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span>
        <span class="s2">"transfer_enabled"</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
        <span class="s2">"automatic_anticipation_enabled"</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
        <span class="s2">"anticipatable_volume_percentage"</span> <span class="o">=&gt;</span> <span class="mi">85</span><span class="p">,</span>
        <span class="s2">"bank_account_id"</span> <span class="o">=&gt;</span> <span class="mi">4841</span>
    <span class="p">));</span>
    <span class="nv">$recipient</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code><span class="n">PagarMeService</span><span class="p">.</span><span class="n">DefaultApiKey</span> <span class="p">=</span> <span class="s">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>

<span class="n">Recipient</span> <span class="n">recipient</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Recipient</span><span class="p">();</span>
<span class="n">recipient</span><span class="p">.</span><span class="n">TransferInterval</span> <span class="p">=</span> <span class="n">TransferInterval</span><span class="p">.</span><span class="n">Weekly</span><span class="p">;</span>
<span class="n">recipient</span><span class="p">.</span><span class="n">TransferDay</span> <span class="p">=</span> <span class="m">5</span><span class="p">;</span>
<span class="n">recipient</span><span class="p">.</span><span class="n">TransferEnabled</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">recipient</span><span class="p">.</span><span class="n">BankAccount</span> <span class="p">=</span> <span class="n">PagarMeService</span><span class="p">.</span><span class="nf">GetDefaultService</span><span class="p">().</span><span class="n">BankAccounts</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="s">"4840"</span><span class="p">);</span>
<span class="n">recipient</span><span class="p">.</span><span class="nf">Save</span><span class="p">();</span>
</code></pre><p>Com essa rota você consegue criar um recebedor, definindo o período que ele irá receber os pagamentos e qual a conta bancária que será utilizada para envio dos pagamentos.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recipient"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"re_ci9bucss300h1zt6dvywufeqc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bank_account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4841</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"341"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0932"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58054"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26268738888"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API BANK ACCOUNT"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"charge_transfer_fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-19T15:40:51.000Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"transfer_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_transfer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transfer_interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"weekly"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transfer_day"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"automatic_anticipation_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"anticipatable_volume_percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">85</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-05T21:41:48.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-05T21:41:48.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>transfer_interval</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Frequência na qual o recebedor irá ser pago. <br> <strong>Valores possíveis</strong>: <code class="prettyprint">daily</code>, <code class="prettyprint">weekly</code>, <code class="prettyprint">monthly</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>transfer_day</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Dia no qual o recebedor vai ser pago.</td>
</tr>
<tr>
<td style="text-align: right"><strong>transfer_enabled</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Variável que indica se o recebedor pode receber os pagamentos automaticamente</td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_account_id</strong><br> <span class="required">obrigatório*</span></td>
<td style="text-align: left">Identificador de uma conta bancária previamente criada. Caso você não tenha essa informação, você pode passar os parâmetros necessários para <a href="/#criando-uma-conta-bancaria">criação de uma conta bancária</a></td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_account</strong><br> <span class="required">obrigatório*</span></td>
<td style="text-align: left">Objeto contendo os dados bancários do recebedor. Este objeto, e as suas respectivas propriedades, serão obrigatórios caso não seja informado um <code class="prettyprint">bank_account_id</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_account[bank_code]</strong></td>
<td style="text-align: left">Código do banco do recebedor</td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_account[agencia]</strong></td>
<td style="text-align: left">Agência da conta do recebedor</td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_account[conta]</strong></td>
<td style="text-align: left">Número da conta bancária do recebedor</td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_account[conta_dv]</strong></td>
<td style="text-align: left">Dígito verificador da conta do recebedor</td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_account[document_number]</strong></td>
<td style="text-align: left">CPF ou CNPJ do recebedor</td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_account[legal_name]</strong></td>
<td style="text-align: left">Nome completo ou razão social do recebedor</td>
</tr>
</tbody></table><div name="retornando-todos-os-recebedores" data-unique="retornando-todos-os-recebedores"></div></yay>
VM119:14 <yay><h2 id="retornando-todos-os-recebedores">Retornando todos os recebedores</h2><blockquote>
<p>GET https://api.pagar.me/1/recipients</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/recipients <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span>

<span class="n">page</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">count</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">recipients</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Recipient</span><span class="p">.</span><span class="nf">all</span><span class="p">(</span><span class="n">page</span><span class="p">,</span> <span class="n">count</span><span class="p">)</span>
<span class="c1"># ou</span>
<span class="n">recipients</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Recipient</span><span class="p">.</span><span class="nf">all</span> <span class="c1"># =&gt; default page = 1, count = 10</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>
    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$recipients</span> <span class="o">=</span> <span class="nx">PagarMe_Recipient</span><span class="o">::</span><span class="na">all</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code><span class="n">PagarMeService</span><span class="p">.</span><span class="n">DefaultApiKey</span> <span class="p">=</span> <span class="s">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>


<span class="n">var</span> <span class="n">pagarmeRequest</span> <span class="p">=</span> <span class="n">PagarMeService</span><span class="p">.</span><span class="nf">GetDefaultService</span><span class="p">().</span><span class="n">Recipients</span><span class="p">.</span><span class="nf">BuildFindQuery</span><span class="p">(</span><span class="k">new</span> <span class="nf">Recipient</span> <span class="p">());</span>

<span class="c1">// Mude/Adicione a query String o que você deseja, e.g: count = 50
</span><span class="n">var</span> <span class="n">newTupleForQueryString</span> <span class="p">=</span> <span class="n">Tuple</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s">"count"</span><span class="p">,</span> <span class="s">"50"</span><span class="p">);</span>

<span class="n">pagarmeRequest</span><span class="p">.</span><span class="n">Query</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">newTupleForQueryString</span><span class="p">);</span>

<span class="n">var</span> <span class="n">recipients</span> <span class="p">=</span> <span class="n">PagarMeService</span><span class="p">.</span><span class="nf">GetDefaultService</span> <span class="p">().</span><span class="n">Recipients</span><span class="p">.</span><span class="nf">FinishFindQuery</span> <span class="p">(</span><span class="n">pagarmeRequest</span><span class="p">.</span><span class="nf">Execute</span> <span class="p">());</span>




</code></pre><p>Retorna um <code class="prettyprint">Array</code> de objetos com todos os recebedores criados pela sua companhia.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recipient"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"re_ci7nhf1ay0007n016wd5t22nl"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bank_account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4901</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"341"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0932"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia_dv"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58999"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26268738888"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RECIPIENT TEST"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"charge_transfer_fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24T15:53:17.000Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"transfer_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_transfer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transfer_interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"weekly"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transfer_day"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24T15:53:27.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24T15:53:27.000Z"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recipient"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"re_ci7nheu0m0006n016o5sglg9t"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bank_account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4901</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"341"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0932"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia_dv"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58999"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26268738888"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RECIPIENT TEST"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"charge_transfer_fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24T15:53:17.000Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"transfer_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_transfer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transfer_interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"weekly"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transfer_day"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24T15:53:17.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24T15:53:17.000Z"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recipient"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"re_ci7ng63iv00bdp8164c05ggi9"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bank_account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4841</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"341"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0932"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58054"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26268738888"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API BANK ACCOUNT"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"charge_transfer_fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-19T15:40:51.000Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"transfer_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_transfer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transfer_interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"weekly"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transfer_day"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24T15:18:30.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24T15:18:30.000Z"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recipient"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"re_ci76hxnym00b8dw16y3hdxb21"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bank_account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1774</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia_dv"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cnpj"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000000000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CONTA BANCARIA DE TESTES"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"charge_transfer_fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-12T18:35:51.000Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"transfer_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_transfer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transfer_interval"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transfer_day"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-12T18:35:51.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-12T18:35:51.000Z"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>count</strong><br> default: <code class="prettyprint">10</code></td>
<td style="text-align: left">Retorna <code class="prettyprint">n</code> objetos recebedores</td>
</tr>
<tr>
<td style="text-align: right"><strong>page</strong><br> default: <code class="prettyprint">1</code></td>
<td style="text-align: left">Útil para implementação de uma paginação de resultados</td>
</tr>
</tbody></table><div name="retornando-um-recebedor" data-unique="retornando-um-recebedor"></div></yay>
VM119:14 <yay><h2 id="retornando-um-recebedor">Retornando um recebedor</h2><blockquote>
<p>GET https://api.pagar.me/1/recipients/:id</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/recipients/re_ci7nhf1ay0007n016wd5t22nl <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code>

</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>
    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$recipient</span> <span class="o">=</span> <span class="nx">PagarMe_Recipient</span><span class="o">::</span><span class="na">findById</span><span class="p">(</span><span class="s2">"re_ci7nhf1ay0007n016wd5t22nl"</span><span class="p">);</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code><span class="n">PagarMeService</span><span class="p">.</span><span class="n">DefaultApiKey</span> <span class="p">=</span> <span class="s">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">;</span>

<span class="n">var</span> <span class="n">recipient</span> <span class="p">=</span> <span class="n">PagarMeService</span><span class="p">.</span><span class="nf">GetDefaultService</span><span class="p">().</span><span class="n">Recipients</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="s">"re_ci7nhf1ay0007n016wd5t22nl"</span><span class="p">);</span>
</code></pre><p>Retorna um objeto com os dados de um recebedor criado pela sua companhia.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recipient"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"re_ci7nhf1ay0007n016wd5t22nl"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bank_account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4901</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"341"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0932"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia_dv"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58999"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26268738888"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RECIPIENT TEST"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"charge_transfer_fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24T15:53:17.000Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"transfer_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_transfer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transfer_interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"weekly"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transfer_day"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24T15:53:27.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24T15:53:27.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Id de recebedor desejado</td>
</tr>
</tbody></table><div name="atualizando-um-recebedor" data-unique="atualizando-um-recebedor"></div></yay>
VM119:14 <yay><h2 id="atualizando-um-recebedor">Atualizando um recebedor</h2><blockquote>
<p>PUT https://api.pagar.me/1/recipients/:id</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X PUT https://api.pagar.me/1/recipients/re_ci7nhf1ay0007n016wd5t22nl <span class="se">\</span>
-d <span class="s1">'anticipatable_volume_percentage=80'</span> <span class="se">\</span>
-d <span class="s1">'bank_account_id=5233'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Após criar um recebedor, você pode atualizar todas as configurações do mesmo.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recipient"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"re_ci7nhf1ay0007n016wd5t22nl"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bank_account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5233</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"341"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0721"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia_dv"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02733"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26268738888"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RECIPIENT TEST"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"charge_transfer_fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24T15:53:17.000Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"transfer_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_transfer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transfer_interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"weekly"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transfer_day"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"anticipatable_volume_percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
    </span><span class="nt">"automatic_anticipation_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24T15:53:27.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-29T15:53:27.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>transfer_interval</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Frequência na qual o recebedor irá ser pago. <br> <strong>Valores possíveis</strong>: <code class="prettyprint">daily</code>, <code class="prettyprint">weekly</code>, <code class="prettyprint">monthly</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>transfer_day</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Dia no qual o recebedor vai ser pago.</td>
</tr>
<tr>
<td style="text-align: right"><strong>transfer_enabled</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Variável que indica se o recebedor pode receber os pagamentos automaticamente</td>
</tr>
<tr>
<td style="text-align: right"><strong>anticipatable_volume_percentage</strong></td>
<td style="text-align: left">Limite de volume que pode ser antecipado pelo recebedor, no intervalo de 1 a 100.</td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_account_id</strong><br> <span class="required">obrigatório*</span></td>
<td style="text-align: left">Identificador de uma conta bancária previamente criada. Caso você não tenha essa informação, você pode passar os parâmetros necessários para <a href="/#criando-uma-conta-bancaria">criação de uma conta bancária</a>. <br><strong>OBS:</strong> Para atualizar a conta bancária, ela deve <strong>obrigatóriamente</strong> possuir o mesmo CPF ou CNPJ da conta bancária anterior</td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_account</strong><br> <span class="required">obrigatório*</span></td>
<td style="text-align: left">Objeto contendo os dados bancários do recebedor. Este objeto, e as suas respectivas propriedades, serão obrigatórios caso não seja informado um <code class="prettyprint">bank_account_id</code> <br><strong>OBS:</strong> Para atualizar a conta bancária, ela deve <strong>obrigatóriamente</strong> possuir o mesmo CPF ou CNPJ da conta bancária anterior</td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_account[bank_code]</strong></td>
<td style="text-align: left">Código do banco do recebedor</td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_account[agencia]</strong></td>
<td style="text-align: left">Agência da conta do recebedor</td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_account[conta]</strong></td>
<td style="text-align: left">Número da conta bancária do recebedor</td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_account[conta_dv]</strong></td>
<td style="text-align: left">Dígito verificador da conta do recebedor</td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_account[document_number]</strong></td>
<td style="text-align: left">CPF ou CNPJ do recebedor</td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_account[legal_name]</strong></td>
<td style="text-align: left">Nome completo ou razão social do recebedor</td>
</tr>
</tbody></table><div name="saldo-de-um-recebedor" data-unique="saldo-de-um-recebedor"></div></yay>
VM119:14 <yay><h2 id="saldo-de-um-recebedor">Saldo de um recebedor</h2><blockquote>
<p>GET https://api.pagar.me/1/recipients/:id/balance</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/recipients/re_ci7nhf1ay0007n016wd5t22nl/balance <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Retorna o balanço de saldo de um determinado recebedor.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balance"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"waiting_funds"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"available"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"transferred"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Id de recebedor desejado</td>
</tr>
</tbody></table><div name="operacoes-de-saldo-de-um-recebedor" data-unique="operacoes-de-saldo-de-um-recebedor"></div></yay>
VM119:14 <yay><h2 id="operacoes-de-saldo-de-um-recebedor">Operações de saldo de um recebedor</h2><blockquote>
<p>GET https://api.pagar.me/1/recipients/:recipient_id/balance/operations</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/recipients/re_ci7nhf1ay0007n016wd5t22nl/balance/operations <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> <span class="se">\</span>
-d <span class="s1">'count=3'</span> <span class="se">\</span>
-d <span class="s1">'page=1'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Retorna as movimentações que aconteceram na conta do recebedor.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balance_operation"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4861</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3019898</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance_old_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2920013</span><span class="p">,</span><span class="w">
    </span><span class="nt">"movement_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T21:00:31.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"movement_object"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1297</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">185537</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T03:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T21:00:31.000Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balance_operation"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4852</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2920013</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance_old_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2910128</span><span class="p">,</span><span class="w">
    </span><span class="nt">"movement_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T18:44:42.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"movement_object"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1294</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">185507</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T03:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T18:44:42.000Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balance_operation"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4840</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2910128</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance_old_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2880243</span><span class="p">,</span><span class="w">
    </span><span class="nt">"movement_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">30000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-05T19:32:36.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"movement_object"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1290</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">30000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">185273</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-05T03:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-05T19:32:35.000Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>count</strong><br> default: <code class="prettyprint">10</code></td>
<td style="text-align: left">Retorna <code class="prettyprint">n</code> objetos de operações de saldo</td>
</tr>
<tr>
<td style="text-align: right"><strong>page</strong><br> default: <code class="prettyprint">1</code></td>
<td style="text-align: left">Útil para implementação de uma paginação de resultados</td>
</tr>
</tbody></table><div name="operacao-de-saldo-especifica-de-um-recebedor" data-unique="operacao-de-saldo-especifica-de-um-recebedor"></div></yay>
VM119:14 <yay><h2 id="operacao-de-saldo-especifica-de-um-recebedor">Operação de saldo específica de um recebedor</h2><blockquote>
<p>GET https://api.pagar.me/1/recipients/:recipient_id/balance/operations/:id</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/recipients/re_ci7nhf1ay0007n016wd5t22nl/balance/operations <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Retorna uma movimentação de saldo que aconteceu na conta do recebedor.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balance_operation"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4861</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3019898</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance_old_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2920013</span><span class="p">,</span><span class="w">
    </span><span class="nt">"movement_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T21:00:31.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"movement_object"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payable"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1297</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">115</span><span class="p">,</span><span class="w">
        </span><span class="nt">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">185537</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T03:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-06T21:00:31.000Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:recipient_id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Id de recebedor desejado</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Id da operação de saldo desejada</td>
</tr>
</tbody></table><div name="antecipacoes" data-unique="antecipacoes"></div></yay>
VM119:14 <yay><h2 id="objeto-bulk_anticipation">Objeto <code class="prettyprint">bulk_anticipation</code></h2><blockquote>
<p>Objeto bulk_anticipation</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">600005</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"anticipation_fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">44940</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-23T05:17:54.000Z"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-23T05:17:54.000Z"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">30025</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ba_cig37i5s6004xor6e5cefsjsp"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bulk_anticipation"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-13T02:00:00.000Z"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"timeframe"</span><span class="p">:</span><span class="w"> </span><span class="s2">"start"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><p>Ao criar ou atualizar uma antecipação, este será o objeto que você irá receber como resposta em cada etapa do processo de efetivação da antecipação.</p><table><thead>
<tr>
<th style="text-align: right">Propriedade</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>object</strong><br> String</td>
<td style="text-align: left">Nome do tipo do objeto criado/modificado. <br> <strong>Valor retornado</strong>: <code class="prettyprint">bulk_anticipation</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>status</strong><br> String</td>
<td style="text-align: left">Status atual da antecipação <br> <strong>Valores possíveis</strong>: <code class="prettyprint">building</code>, <code class="prettyprint">pending</code>, <code class="prettyprint">approved</code>, <code class="prettyprint">refused</code>, <code class="prettyprint">canceled</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>timeframe</strong><br> String</td>
<td style="text-align: left">Período de onde os recebíveis irão vir, do ínicio ou do fim de sua agenda de recebíveis. <strong>Ex</strong>: Caso você escolha do começo (<code class="prettyprint">start</code>), seu custo será menor mas há maior impacto no seu fluxo de caixa. <br> <strong>Valores possíveis</strong>: <code class="prettyprint">start</code>, <code class="prettyprint">end</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>payment_date</strong><br> String</td>
<td style="text-align: left">Data de pagamento da antecipação.</td>
</tr>
<tr>
<td style="text-align: right"><strong>amount</strong><br> Number</td>
<td style="text-align: left">Valor bruto, em centavos, da antecipação criada.</td>
</tr>
<tr>
<td style="text-align: right"><strong>fee</strong><br> Number</td>
<td style="text-align: left">Taxa de adquirência relacionada aos recebíveis antecipados.</td>
</tr>
<tr>
<td style="text-align: right"><strong>anticipation_fee</strong><br> Number</td>
<td style="text-align: left">Taxa de antecipação relacionada aos recebíveis antecipados.</td>
</tr>
<tr>
<td style="text-align: right"><strong>id</strong><br> String</td>
<td style="text-align: left">Identificador da antecipação</td>
</tr>
</tbody></table><div name="criando-uma-antecipacao" data-unique="criando-uma-antecipacao"></div></yay>
VM119:14 <yay><h2 id="criando-uma-antecipacao">Criando uma antecipação</h2><blockquote>
<p>POST https://api.pagar.me/1/recipients/:recipient_id/bulk_anticipations</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X POST https://api.pagar.me/1/recipients/re_a123sd18das9d164/bulk_anticipations/ <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> <span class="se">\</span>
-d <span class="s1">'timeframe=start'</span> <span class="se">\</span>
-d <span class="s1">'payment_date=1462999741870'</span> <span class="se">\</span>
-d <span class="s1">'requested_amount=561599'</span> <span class="se">\</span>
-d <span class="s1">'building=true'</span> <span class="se">\</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Para criar uma antecipação, você deve usar a rota <code class="prettyprint">/recipients/:recipient_id/bulk_anticipations</code>.</p><blockquote>
<p>JSON retornado (exemplo):</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">600005</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"anticipation_fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">44940</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-23T05:17:54.000Z"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-23T05:17:54.000Z"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">30025</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ba_cig37i5s6004xor6e5cefsjsp"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bulk_anticipation"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-13T02:00:00.000Z"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"timeframe"</span><span class="p">:</span><span class="w"> </span><span class="s2">"start"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>payment_date</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Data que você deseja receber a antecipação em sua conta Pagar.me</td>
</tr>
<tr>
<td style="text-align: right"><strong>timeframe</strong><br> <span class="required">obrigatório</span><br> Valores: <code class="prettyprint">start</code>, <code class="prettyprint">end</code></td>
<td style="text-align: left">Define o período de onde os recebíveis serão escolhidos. <strong>start</strong> define recebíveis próximos, perto de serem pagos, e <strong>end</strong> define recebíveis longes, no final de todos recebíveis que você possui para receber</td>
</tr>
<tr>
<td style="text-align: right"><strong>requested_amount</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Valor líquido, em centavos, que você deseja receber de antecipação</td>
</tr>
<tr>
<td style="text-align: right"><strong>building</strong><br> Valores: <code class="prettyprint">true</code> ou <code class="prettyprint">false</code></td>
<td style="text-align: left">Define se a antecipação deve retornar com status <code class="prettyprint">building</code>, para <code class="prettyprint">building=true</code>, para possíveis ajustes no valor da antecipação, ou se a transferência é criada diretamente, para <code class="prettyprint">building=false</code> e a antecipação já vai diretamente para a aprovação do Pagar.me. <strong>OBS</strong>: Caso você deseje alterar a antecipação após confirmar, você tem 5 minutos antes que a antecipação <code class="prettyprint">building</code> seja destruída automaticamente</td>
</tr>
</tbody></table><div name="obtendo-os-limites-de-antecipacao" data-unique="obtendo-os-limites-de-antecipacao"></div></yay>
VM119:14 <yay><h2 id="obtendo-os-limites-de-antecipacao">Obtendo os limites de antecipação</h2><blockquote>
<p>GET https://api.pagar.me/1/recipients/:recipient_id/bulk_anticipations/limits</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/recipients/re_a123sd18das9d164/bulk_anticipations/limits <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> <span class="se">\</span>
-d <span class="s1">'timeframe=start'</span> <span class="se">\</span>
-d <span class="s1">'payment_date=1462999741870'</span> <span class="se">\</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Retorna os limites máximos e mínimos de antecipação que aquele recebedor poder fazer.</p><blockquote>
<p>JSON Retornado (exemplo):</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"maximum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">23000</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"anticipation_fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">2633</span><span class="w">
    </span><span class="p">},</span><span class="w"> 
    </span><span class="nt">"minimum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"anticipation_fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">1543</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:recipient_id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Identificador do recebedor</td>
</tr>
<tr>
<td style="text-align: right"><strong>timeframe</strong><br> <span class="required">obrigatório</span> <br> Valores: <code class="prettyprint">start</code>, <code class="prettyprint">end</code></td>
<td style="text-align: left">Define o período de onde os recebíveis serão escolhidos. <strong>start</strong> define recebíveis próximos, perto de serem pagos, e <strong>end</strong> define recebíveis longes, no final de todos recebíveis que você possui para receber</td>
</tr>
<tr>
<td style="text-align: right"><strong>payment_date</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Data de pagamento deseja para a antecipação, ou seja, data em que você deseja que o dinheiro esteja em sua conta Pagar.me disponível para saque</td>
</tr>
</tbody></table><div name="confirmando-uma-antecipacao-building" data-unique="confirmando-uma-antecipacao-building"></div></yay>
VM119:14 <yay><h2 id="confirmando-uma-antecipacao-building">Confirmando uma antecipação <code class="prettyprint">building</code></h2><blockquote>
<p>POST https://api.pagar.me/1/recipients/:recipient_id/bulk_anticipations/:id/confirm</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X POST https://api.pagar.me/1/recipients/re_a123sd18das9d164/bulk_anticipations/ba_as2i4234js23in123/confirm <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Confirma a antecipação criada, assim seu status passará para <code class="prettyprint">pending</code>, ou seja, está criada com sucesso e aguardando aprovação do Pagar.me.</p><blockquote>
<p>JSON Retornado (exemplo):</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">600005</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"anticipation_fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">44940</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-23T05:17:54.000Z"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-23T05:17:54.000Z"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">30025</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ba_cig37i5s6004xor6e5cefsjsp"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bulk_anticipation"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-13T02:00:00.000Z"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"timeframe"</span><span class="p">:</span><span class="w"> </span><span class="s2">"start"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
</tbody></table><div name="cancelando-uma-antecipacao-pending" data-unique="cancelando-uma-antecipacao-pending"></div></yay>
VM119:14 <yay><h2 id="cancelando-uma-antecipacao-pending">Cancelando uma antecipação <code class="prettyprint">pending</code></h2><blockquote>
<p>POST https://api.pagar.me/1/recipients/:recipient_id/bulk_anticipations/:id/cancel</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X POST https://api.pagar.me/1/recipients/re_a123sd18das9d164/bulk_anticipations/ba_as2i4234js23in123/cancel <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Cancela uma antecipação com status <code class="prettyprint">pending</code>. Enquanto a antecipação foi criada e o Pagar.me ainda não a confirmou, você pode cancelar a antecipação a qualquer momento.</p><blockquote>
<p>JSON Retornado (exemplo):</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">600005</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"anticipation_fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">44940</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-23T05:17:54.000Z"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-23T05:17:54.000Z"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">30025</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ba_cig37i5s6004xor6e5cefsjsp"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bulk_anticipation"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-13T02:00:00.000Z"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"canceled"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"timeframe"</span><span class="p">:</span><span class="w"> </span><span class="s2">"start"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
</tbody></table><div name="deletando-uma-antecipacao-building" data-unique="deletando-uma-antecipacao-building"></div></yay>
VM119:14 <yay><h2 id="deletando-uma-antecipacao-building">Deletando uma antecipação <code class="prettyprint">building</code></h2><blockquote>
<p>DELETE https://api.pagar.me/1/recipients/:recipient_id/bulk_anticipations/:id/</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X DELETE https://api.pagar.me/1/recipients/re_a123sd18das9d164/bulk_anticipations/ba_as2i4234js23in123/ <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Enquanto você está construindo uma antecipação (status <code class="prettyprint">building</code>), você pode cancelar o processo deletando a criação daquela antecipação. Lembrando que caso você não a destrua no status <code class="prettyprint">building</code>, após 5 minutos ela é automaticamente destruída.</p><blockquote>
<p>JSON Retornado (exemplo):</p>
</blockquote><pre class="highlight json"><code><span class="p">[</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
</tbody></table><div name="retornando-todas-as-antecipacoes" data-unique="retornando-todas-as-antecipacoes"></div></yay>
VM119:14 <yay><h2 id="retornando-todas-as-antecipacoes">Retornando todas as antecipações</h2><blockquote>
<p>GET https://api.pagar.me/1/recipients/:recipient_id/bulk_anticipations/</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/recipients/re_a123sd18das9d164/bulk_anticipations/ <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Retorna um <code class="prettyprint">Array</code> contendo objetos de antecipações.</p><blockquote>
<p>JSON Retornado (exemplo):</p>
</blockquote><pre class="highlight json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">600005</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"anticipation_fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">44940</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-23T05:17:54.000Z"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-23T05:17:54.000Z"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">30025</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ba_cig37i5s6004xor6e5cefsjsp"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bulk_anticipation"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-13T02:00:00.000Z"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"timeframe"</span><span class="p">:</span><span class="w"> </span><span class="s2">"start"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot"</span><span class="w">
    </span><span class="p">},</span><span class="w"> 
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">220439</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"anticipation_fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">24271</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-21T17:09:09.000Z"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-21T17:09:43.000Z"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">11028</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ba_cig1214ng000sii6eryzz4pjb"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bulk_anticipation"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-23T02:00:00.000Z"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"canceled"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"timeframe"</span><span class="p">:</span><span class="w"> </span><span class="s2">"start"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot"</span><span class="w">
    </span><span class="p">},</span><span class="w"> 
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">406065</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"anticipation_fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">16842</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-21T17:08:41.000Z"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-22T12:20:51.000Z"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">20313</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ba_cig120jcg000rii6evg415z4w"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bulk_anticipation"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-23T02:00:00.000Z"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"canceled"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"timeframe"</span><span class="p">:</span><span class="w"> </span><span class="s2">"start"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>count</strong><br> default: <code class="prettyprint">10</code></td>
<td style="text-align: left">Retorna <code class="prettyprint">n</code> objetos de transação</td>
</tr>
<tr>
<td style="text-align: right"><strong>page</strong><br> default: <code class="prettyprint">1</code></td>
<td style="text-align: left">Útil para implementação de uma paginação de resultados</td>
</tr>
</tbody></table><div name="regras-do-split" data-unique="regras-do-split"></div></yay>
VM119:14 <yay><h2 id="objeto-split_rule">Objeto <code class="prettyprint">split_rule</code></h2><blockquote>
<p>Objeto split_rule</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"split_rule"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sr_ci7ntawl1001s2m164zrbp7tz"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"recipient_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"re_ci7nhf1ay0007n016wd5t22nl"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"charge_processing_fee"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"liable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24T21:26:09.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24T21:26:09.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><p>Objeto que contém as informações das regras da divisão do valor gerado na transação.</p><table><thead>
<tr>
<th style="text-align: right">Propriedade</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>object</strong><br> String</td>
<td style="text-align: left">Nome do tipo do objeto criado/modificado. <br> <strong>Valor retornado</strong>: <code class="prettyprint">split_rule</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>id</strong><br>String</td>
<td style="text-align: left">Identificador da regra de divisão</td>
</tr>
<tr>
<td style="text-align: right"><strong>recipient_id</strong><br><span class="required">obrigatório</span><br>String</td>
<td style="text-align: left">Recebedor que irá receber os valores descritos nessa regra</td>
</tr>
<tr>
<td style="text-align: right"><strong>charge_processing_fee</strong><br>Boolean</td>
<td style="text-align: left">Define se o recebedor dessa regra irá ser cobrado pela taxa da Pagar.me</td>
</tr>
<tr>
<td style="text-align: right"><strong>liable</strong><br>Boolean</td>
<td style="text-align: left">Define se o recebedor vinculado a essa regra irá se responsabilizar pelo risco da transação (chargeback)</td>
</tr>
<tr>
<td style="text-align: right"><strong>percentage</strong><br><span class="required">obrigatório*</span><br>Number</td>
<td style="text-align: left">Porcentagem que o recebedor vai receber do valor da transação. <br> <strong>OBS</strong>: Caso <code class="prettyprint">percentage</code> seja utilizada, não é necessário passar o parâmetro <code class="prettyprint">amount</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>amount</strong><br><span class="required">obrigatório*</span><br>Number</td>
<td style="text-align: left">Valor que o recebedor vai receber da transação. <br> <strong>OBS</strong>: Caso <code class="prettyprint">amount</code> seja utilizado, não é necessário passar o parâmetro <code class="prettyprint">percentage</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>date_created</strong><br>String</td>
<td style="text-align: left">Data da criação da <code class="prettyprint">split_rule</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>date_updated</strong><br>String</td>
<td style="text-align: left">Data de atualização da <code class="prettyprint">split_rule</code></td>
</tr>
</tbody></table><div name="transferencias" data-unique="transferencias"></div></yay>
VM119:14 <yay><h2 id="objeto-transfer">Objeto <code class="prettyprint">transfer</code></h2><blockquote>
<p>Objeto transfer</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transfer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">480</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">13000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"doc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending_transfer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">367</span><span class="p">,</span><span class="w">
    </span><span class="nt">"funding_estimated_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-21T15:44:14.417Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bank_account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4840</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"341"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0932"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58054"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26268738888"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API BANK ACCOUNT"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"charge_transfer_fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-19T15:35:40.000Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-20T15:44:14.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><p>Objeto retornado ao se criar uma transferência bancária.</p><table><thead>
<tr>
<th style="text-align: right">Propriedade</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>object</strong><br> String</td>
<td style="text-align: left">Nome do tipo do objeto criado/modificado. <br> <strong>Valor retornado</strong>: <code class="prettyprint">transfer</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>id</strong><br> Number</td>
<td style="text-align: left">Número identificador da transação</td>
</tr>
<tr>
<td style="text-align: right"><strong>amount</strong><br> Number</td>
<td style="text-align: left">Valor, em centavos, do valor transferido</td>
</tr>
<tr>
<td style="text-align: right"><strong>type</strong><br> String</td>
<td style="text-align: left">Tipo da transação. <br> <strong>Valores possíveis</strong>: <code class="prettyprint">ted</code>, <code class="prettyprint">doc</code> ou <code class="prettyprint">credito_em_conta</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>status</strong><br> String</td>
<td style="text-align: left">Estado no qual a transação se encontra. <br> <strong>Valores possíveis</strong>: <code class="prettyprint">pending_transfer</code>, <code class="prettyprint">transferred</code>, <code class="prettyprint">failed</code>, <code class="prettyprint">processing</code> ou <code class="prettyprint">canceled</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>fee</strong><br> Number</td>
<td style="text-align: left">Taxa cobrada pela transferência, em centavos.</td>
</tr>
<tr>
<td style="text-align: right"><strong>funding_date</strong><br> String</td>
<td style="text-align: left">Data da ocorrência da transferência</td>
</tr>
<tr>
<td style="text-align: right"><strong>funding_estimated_date</strong><br> String</td>
<td style="text-align: left">Data estimada para efetivação da transferência (ISODate)</td>
</tr>
<tr>
<td style="text-align: right"><strong>transaction_id</strong><br> Number</td>
<td style="text-align: left">Identificador da transação estornada</td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_account</strong><br> Object</td>
<td style="text-align: left">Objeto contendo os dados da <a href="/?shell#objeto-bank_account">conta bancária</a> que irá receber a transferência</td>
</tr>
<tr>
<td style="text-align: right"><strong>date_created</strong><br> String</td>
<td style="text-align: left">Data da criação da transferência (ISODate)</td>
</tr>
</tbody></table><div name="criando-uma-transferencia" data-unique="criando-uma-transferencia"></div></yay>
VM119:14 <yay><h2 id="criando-uma-transferencia">Criando uma transferência</h2><blockquote>
<p>POST https://api.pagar.me/1/transfers</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X POST https://api.pagar.me/1/transfers <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> <span class="se">\</span>
-d <span class="s1">'amount=13000'</span> <span class="se">\</span>
-d <span class="s1">'bank_account_id=4840'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Realiza uma transferência para uma conta bancária previamente criada.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transfer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">480</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">13000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"doc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending_transfer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">367</span><span class="p">,</span><span class="w">
    </span><span class="nt">"funding_estimated_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-21T15:44:14.417Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bank_account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4840</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"341"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0932"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58054"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26268738888"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API BANK ACCOUNT"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"charge_transfer_fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-19T15:35:40.000Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-20T15:44:14.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>amount</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Valor, em centavos, a ser transferido para uma determinada conta bancária</td>
</tr>
<tr>
<td style="text-align: right"><strong>bank_account_id</strong><br> <span class="required">obrigatório*</span></td>
<td style="text-align: left">Número identificador da conta bancária que irá receber a transferência. <br> <strong>OBS</strong>: Caso tenha sido passado um <code class="prettyprint">recipient_id</code>, se o parâmetro <code class="prettyprint">bank_account_id</code> for omitido, o valor será depositado na conta bancária definida no recebedor informado</td>
</tr>
<tr>
<td style="text-align: right"><strong>recipient_id</strong><br> <span class="required">obrigatório*</span></td>
<td style="text-align: left">Indica que o valor da transferência sairá da conta do recebedor identificado por este parâmetro. <br> <strong>OBS</strong>: Caso o <code class="prettyprint">recipient_id</code> seja passado, não é necessário passar <code class="prettyprint">bank_account_id</code></td>
</tr>
</tbody></table><div name="vendo-dados-de-uma-transferencia" data-unique="vendo-dados-de-uma-transferencia"></div></yay>
VM119:14 <yay><h2 id="vendo-dados-de-uma-transferencia">Vendo dados de uma transferência</h2><blockquote>
<p>GET https://api.pagar.me/1/transfers/:id</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/transfers/484 <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Retorna os dados de uma transferência previamente realizada.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transfer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">480</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">13000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"doc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending_transfer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">367</span><span class="p">,</span><span class="w">
    </span><span class="nt">"funding_estimated_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-21T15:44:14.417Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bank_account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4840</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"341"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0932"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58054"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26268738888"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API BANK ACCOUNT"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"charge_transfer_fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-19T15:35:40.000Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-20T15:44:14.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Id da transferência desejada</td>
</tr>
</tbody></table><div name="vendo-dados-de-varias-transferencias" data-unique="vendo-dados-de-varias-transferencias"></div></yay>
VM119:14 <yay><h2 id="vendo-dados-de-varias-transferencias">Vendo dados de várias transferências</h2><blockquote>
<p>GET https://api.pagar.me/1/transfers</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/transfers <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Retorna os dados de todas as transferências previamente realizadas.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transfer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">480</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">13000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"doc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending_transfer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">367</span><span class="p">,</span><span class="w">
    </span><span class="nt">"funding_estimated_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-21T15:44:14.417Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bank_account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4840</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"341"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0932"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58054"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26268738888"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API BANK ACCOUNT"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"charge_transfer_fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-19T15:35:40.000Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-20T15:44:14.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>count</strong><br> default: <code class="prettyprint">10</code></td>
<td style="text-align: left">Retorna <code class="prettyprint">n</code> objetos de transferência</td>
</tr>
<tr>
<td style="text-align: right"><strong>page</strong><br> default: <code class="prettyprint">1</code></td>
<td style="text-align: left">Útil para implementação de uma paginação de resultados</td>
</tr>
</tbody></table><div name="cancelando-uma-transferencia" data-unique="cancelando-uma-transferencia"></div></yay>
VM119:14 <yay><h2 id="cancelando-uma-transferencia">Cancelando uma transferência</h2><blockquote>
<p>POST https://api.pagar.me/1/transfers/:id/cancel</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X POST https://api.pagar.me/1/transfers/480/cancel <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Cancela uma transferência previamente realizada.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transfer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">480</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">13000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"doc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"canceled"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">367</span><span class="p">,</span><span class="w">
    </span><span class="nt">"funding_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"funding_estimated_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-21T15:44:14.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bank_account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4840</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"341"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0932"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agencia_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58054"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"conta_dv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26268738888"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API BANK ACCOUNT"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"charge_transfer_fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-19T15:35:40.000Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-20T15:44:14.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Id da transferência a ser cancelada</td>
</tr>
</tbody></table><div name="clientes" data-unique="clientes"></div></yay>
VM119:14 <yay><h2 id="criando-um-cliente">Criando um cliente</h2><blockquote>
<p>POST https://api.pagar.me/1/customers/:id</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X POST https://api.pagar.me/1/customers <span class="se">\</span>
-d <span class="s2">"api_key=ak_test_T12378asdgyug234DoGKgN234897dsf98"</span> <span class="se">\</span>
-d <span class="s2">"document_number=18152564000105"</span> <span class="se">\</span>
-d <span class="s2">"name=nome do cliente"</span> <span class="se">\</span>
-d <span class="s2">"email=eee@email.com"</span> <span class="se">\</span>
-d <span class="s2">"born_at=13121988"</span> <span class="se">\</span>
-d <span class="s2">"gender=M"</span> <span class="se">\</span>
-d <span class="s2">"address[street]=rua qualquer"</span> <span class="se">\</span>
-d <span class="s2">"address[complementary]=apto"</span> <span class="se">\</span>
-d <span class="s2">"address[street_number]=13"</span> <span class="se">\</span>
-d <span class="s2">"address[neighborhood]=pinheiros"</span> <span class="se">\</span>
-d <span class="s2">"address[city]=sao paulo"</span> <span class="se">\</span>
-d <span class="s2">"address[state]=SP"</span> <span class="se">\</span>
-d <span class="s2">"address[zipcode]=05444040"</span> <span class="se">\</span>
-d <span class="s2">"address[country]=Brasil"</span> <span class="se">\</span>
-d <span class="s2">"phone[ddi]=55"</span> <span class="se">\</span>
-d <span class="s2">"phone[ddd]=11"</span> <span class="se">\</span>
-d <span class="s2">"phone[number]=999887766"</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span>

<span class="n">customer</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Card</span><span class="p">.</span><span class="nf">new</span><span class="p">({</span>
    <span class="ss">:document_number</span> <span class="o">=&gt;</span> <span class="s2">"18152564000105"</span><span class="p">,</span>
    <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">"nome do cliente"</span><span class="p">,</span>
    <span class="ss">:email</span> <span class="o">=&gt;</span> <span class="s2">"eee@email.com"</span><span class="p">,</span>
    <span class="ss">:born_at</span> <span class="o">=&gt;</span> <span class="mi">13121988</span><span class="p">,</span>
    <span class="ss">:gender</span> <span class="o">=&gt;</span> <span class="s2">"M"</span><span class="p">,</span>
    <span class="ss">:address</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="ss">:street</span> <span class="o">=&gt;</span> <span class="s2">"rua qualquer"</span><span class="p">,</span>
        <span class="ss">:complementary</span> <span class="o">=&gt;</span> <span class="s2">"apto"</span><span class="p">,</span>
        <span class="ss">:street_number</span> <span class="o">=&gt;</span> <span class="mi">13</span><span class="p">,</span>
        <span class="ss">:neighborhood</span> <span class="o">=&gt;</span> <span class="s2">"pinheiros"</span><span class="p">,</span>
        <span class="ss">:city</span> <span class="o">=&gt;</span> <span class="s2">"sao paulo"</span><span class="p">,</span>
        <span class="ss">:state</span> <span class="o">=&gt;</span> <span class="s2">"SP"</span><span class="p">,</span>
        <span class="ss">:zipcode</span> <span class="o">=&gt;</span> <span class="s2">"05444040"</span><span class="p">,</span>
        <span class="ss">:country</span> <span class="o">=&gt;</span> <span class="s2">"Brasil"</span>
    <span class="p">},</span>
    <span class="ss">:phone</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="ss">:ddi</span> <span class="o">=&gt;</span> <span class="mi">55</span><span class="p">,</span>
        <span class="ss">:ddd</span> <span class="o">=&gt;</span> <span class="mi">11</span><span class="p">,</span>
        <span class="ss">:number</span> <span class="o">=&gt;</span> <span class="mi">999887766</span>
    <span class="p">}</span>
<span class="p">})</span>

<span class="n">customer</span><span class="p">.</span><span class="nf">create</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>

    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$customer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PagarMe_Customer</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
      <span class="s2">"document_number"</span> <span class="o">=&gt;</span> <span class="s2">"18152564000105"</span><span class="p">,</span>
      <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"nome do cliente"</span><span class="p">,</span>
      <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"eee@email.com"</span><span class="p">,</span>
      <span class="s2">"born_at"</span> <span class="o">=&gt;</span> <span class="mi">13121988</span><span class="p">,</span>
      <span class="s2">"gender"</span> <span class="o">=&gt;</span> <span class="s2">"M"</span><span class="p">,</span>
      <span class="s2">"address"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s2">"street"</span> <span class="o">=&gt;</span> <span class="s2">"rua qualquer"</span><span class="p">,</span>
        <span class="s2">"complementary"</span> <span class="o">=&gt;</span> <span class="s2">"apto"</span><span class="p">,</span>
        <span class="s2">"street_number"</span> <span class="o">=&gt;</span> <span class="mi">13</span><span class="p">,</span>
        <span class="s2">"neighborhood"</span> <span class="o">=&gt;</span> <span class="s2">"pinheiros"</span><span class="p">,</span>
        <span class="s2">"city"</span> <span class="o">=&gt;</span> <span class="s2">"sao paulo"</span><span class="p">,</span>
        <span class="s2">"state"</span> <span class="o">=&gt;</span> <span class="s2">"SP"</span><span class="p">,</span>
        <span class="s2">"zipcode"</span> <span class="o">=&gt;</span> <span class="s2">"05444040"</span><span class="p">,</span>
        <span class="s2">"country"</span> <span class="o">=&gt;</span> <span class="s2">"Brasil"</span>
      <span class="p">),</span>
      <span class="s2">"phone"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s2">"ddi"</span> <span class="o">=&gt;</span> <span class="mi">55</span><span class="p">,</span>
        <span class="s2">"ddd"</span> <span class="o">=&gt;</span> <span class="mi">11</span><span class="p">,</span>
        <span class="s2">"number"</span> <span class="o">=&gt;</span> <span class="mi">999887766</span>
      <span class="p">)</span>
    <span class="p">));</span>

    <span class="nv">$customer</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Através dessa rota você pode salvar os dados de um cliente no nosso banco de dados.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18152564000105"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cnpj"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nome do cliente"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eee@email.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"born_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1970-01-01T03:38:41.988Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"M"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-10T18:38:19.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">253591</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phones"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ddi"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ddd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"999887766"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">148590</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nt">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"address"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rua qualquer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"complementary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"apto"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"neighborhood"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pinheiros"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sao paulo"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"zipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"05444040"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brasil"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">153809</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>document_number</strong></td>
<td style="text-align: left">Número do CPF ou CNPJ do cliente</td>
</tr>
<tr>
<td style="text-align: right"><strong>name</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Nome ou razão social do comprador</td>
</tr>
<tr>
<td style="text-align: right"><strong>email</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">E-mail do comprador</td>
</tr>
<tr>
<td style="text-align: right"><strong>born_at</strong></td>
<td style="text-align: left">Data de nascimento</td>
</tr>
<tr>
<td style="text-align: right"><strong>gender</strong></td>
<td style="text-align: left">Gênero</td>
</tr>
<tr>
<td style="text-align: right"><strong>address[street]</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Nome da rua</td>
</tr>
<tr>
<td style="text-align: right"><strong>address[complementary]</strong></td>
<td style="text-align: left">Complemento do endereço</td>
</tr>
<tr>
<td style="text-align: right"><strong>address[street_number]</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Número do imóvel</td>
</tr>
<tr>
<td style="text-align: right"><strong>address[neighborhood]</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Bairro</td>
</tr>
<tr>
<td style="text-align: right"><strong>address[city]</strong></td>
<td style="text-align: left">Cidade</td>
</tr>
<tr>
<td style="text-align: right"><strong>address[state]</strong></td>
<td style="text-align: left">Estado</td>
</tr>
<tr>
<td style="text-align: right"><strong>address[zipcode]</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Código postal (CEP)</td>
</tr>
<tr>
<td style="text-align: right"><strong>address[country]</strong></td>
<td style="text-align: left">País</td>
</tr>
<tr>
<td style="text-align: right"><strong>phone[ddi]</strong></td>
<td style="text-align: left">DDI (Discagem Direta Internacional)</td>
</tr>
<tr>
<td style="text-align: right"><strong>phone[ddd]</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">DDD (Discagem Direta à Distância)</td>
</tr>
<tr>
<td style="text-align: right"><strong>phone[number]</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Número do telefone (máximo de 9 dígitos, apenas números)</td>
</tr>
</tbody></table><div name="retornando-dados-do-cliente" data-unique="retornando-dados-do-cliente"></div></yay>
VM119:14 <yay><h2 id="retornando-dados-do-cliente">Retornando dados do cliente</h2><blockquote>
<p>GET https://api.pagar.me/1/customers/:id</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/customers/11222 <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> 
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span>

<span class="n">customer</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Customer</span><span class="p">.</span><span class="nf">find_by_id</span><span class="p">(</span><span class="mi">11222</span><span class="p">)</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>

    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$customer</span> <span class="o">=</span> <span class="nx">PagarMe_Customer</span><span class="o">::</span><span class="na">findById</span><span class="p">(</span><span class="mi">11222</span><span class="p">);</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Através da rota <code class="prettyprint">/customers/:id</code> você recebe todos os dados do seu cliente, previamente cadastrado na realização de uma transação, quando os dados deste é passado pelos parâmetros <code class="prettyprint">customer[nomeDaPropriedade]</code>.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31442053332"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpf"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api customer fullname"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api@customer.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"born_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-10-13T10:51:38.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11222</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phones"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ddi"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ddd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"99887766"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nt">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"address"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Veneza"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"complementary"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"neighborhood"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av API"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"zipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15078731"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brasil"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13743</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>:id</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Id do cliente desejado</td>
</tr>
</tbody></table><div name="retornando-dados-de-clientes" data-unique="retornando-dados-de-clientes"></div></yay>
VM119:14 <yay><h2 id="retornando-dados-de-clientes">Retornando dados de clientes</h2><blockquote>
<p>GET https://api.pagar.me/1/customers</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/customers <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> <span class="se">\</span>
-d <span class="s1">'page=1'</span> <span class="se">\</span>
-d <span class="s1">'count=2'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'pagarme'</span>

<span class="no">PagarMe</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span>

<span class="n">card</span> <span class="o">=</span> <span class="no">PagarMe</span><span class="o">::</span><span class="no">Card</span><span class="p">.</span><span class="nf">all</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre><pre class="highlight php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">require</span><span class="p">(</span><span class="s2">"pagarme-php/Pagarme.php"</span><span class="p">);</span>

    <span class="nx">Pagarme</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0"</span><span class="p">);</span>

    <span class="nv">$customers</span> <span class="o">=</span> <span class="nx">PagarMe_Customer</span><span class="o">::</span><span class="na">all</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Retorna todos os clientes cadastrados em sua conta.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18152564000105"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cnpj"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nome do cliente"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"born_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1970-01-01T03:38:41.988Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"M"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-10T22:04:18.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15132</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phones"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ddi"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ddd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"999887766"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13746</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nt">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"address"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rua qualquer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"complementary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"apto"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"neighborhood"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pinheiros"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sao paulo"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"zipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"05444040"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brasil"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13958</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"document_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18152564000105"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"document_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cnpj"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eee@email.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"born_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1970-01-01T03:38:41.988Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"M"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-10T22:03:49.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15131</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phones"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ddi"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ddd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"999887766"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13745</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nt">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"address"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rua qualquer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"complementary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"apto"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"neighborhood"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pinheiros"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sao paulo"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"zipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"05444040"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brasil"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13957</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>count</strong><br> default: <code class="prettyprint">10</code></td>
<td style="text-align: left">Retorna <code class="prettyprint">n</code> objetos <code class="prettyprint">customer</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>page</strong><br> default: <code class="prettyprint">1</code></td>
<td style="text-align: left">Útil para implementação de uma paginação de resultados</td>
</tr>
</tbody></table><div name="buscas-avancadas" data-unique="buscas-avancadas"></div></yay>
VM119:14 <yay><h2 id="elasticsearch">ElasticSearch</h2><blockquote>
<p>GET https://api.pagar.me/1/search</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/search <span class="se">\</span>
-d <span class="s1">'api_key=ak_test_grXijQ4GicOa2BLGZrDRTR5qNQxJW0'</span> <span class="se">\</span>
-d <span class="s1">'type=transaction'</span> <span class="se">\</span>
-d <span class="s1">'query=
{
  "query": {
    "filtered": {
      "query": {"match_all": {}},
      "filter": {
        "and": [
          {
            "range": {
              "date_created": {
                "lte": "2016-01-31",
                "gte": "2016-01-01"
              }
            }
          },
          {
            "or": [
              {"term": {"status": "waiting_payment"}},
              {"term": {"status": "paid"}}
            ]
          }
        ]
      }
    }
  },
  "sort": [
    {
      "date_created": {"order": "desc"}
    }
  ],
  "size": 5,
  "from": 0
}'</span>
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Através da rota <code class="prettyprint">/search</code> você consegue fazer consultas usando o <a href="https://www.elastic.co/products/elasticsearch">ElasticSearch</a> em nossa base dados. Essas consultas são extremamente otimizadas, e permitem que você minere os dados de suas transações e demais informações armazenadas no Pagar.me da forma que lhe for mais conveniente.</p><p>Um exemplo de como utilizar a <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html">Query DSL</a> do ElasticSearch é exibido nesta sessão. No exemplo ao lado, buscamos por objetos do tipo <code class="prettyprint">transaction</code>. Usamos o filtro <code class="prettyprint">range</code> para filtrar transações com <code class="prettyprint">date_created</code> entre 1º de Janeiro de 2016 e 31 de Janeiro de 2016. Da mesma maneira, usamos uma combinação de filtros <code class="prettyprint">or</code> e <code class="prettyprint">term</code> para filtrar todas as transações que contanham <code class="prettyprint">status</code> como <code class="prettyprint">paid</code> ou como <code class="prettyprint">waiting_payment</code>. Por fim, limitamos nossa busca a 5 elementos com o parâmetro <code class="prettyprint">size</code>, ordenamos os resultados por ordem descrescente de <code class="prettyprint">date_created</code> com o parâmetro <code class="prettyprint">sort</code>, e por fim especificamos a página de resultados desejada com o parâmetro <code class="prettyprint">from</code>.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"took"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timed_out"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"_shards"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"successful"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"failed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
    </span><span class="nt">"max_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_index"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pagarme"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"353328"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"waiting_payment"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-14T16:07:16.000Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-14T16:07:17.000Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">23000</span><span class="p">,</span><span class="w">
          </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">353328</span><span class="p">,</span><span class="w">
          </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card_last_digits"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card_first_digits"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"capture_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ecommerce"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pagar.me"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234 5678"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-21T02:00:00.730Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api_key"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"179.191.82.50"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"antifraud_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
          </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="mi">1452787636000</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_index"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pagarme"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"353327"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"waiting_payment"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-14T16:07:12.000Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-14T16:07:12.000Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">22000</span><span class="p">,</span><span class="w">
          </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">353327</span><span class="p">,</span><span class="w">
          </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card_last_digits"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card_first_digits"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"capture_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ecommerce"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pagar.me"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234 5678"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-21T02:00:00.247Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api_key"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"179.191.82.50"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"antifraud_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
          </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="mi">1452787632000</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_index"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pagarme"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"353326"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"waiting_payment"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-14T16:06:47.000Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-14T16:06:47.000Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">21000</span><span class="p">,</span><span class="w">
          </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">353326</span><span class="p">,</span><span class="w">
          </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card_last_digits"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card_first_digits"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"capture_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ecommerce"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pagar.me"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234 5678"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-21T02:00:00.223Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api_key"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"179.191.82.50"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"antifraud_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
          </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="mi">1452787607000</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_index"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pagarme"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"353325"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"waiting_payment"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-14T16:06:41.000Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-14T16:06:42.000Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">20000</span><span class="p">,</span><span class="w">
          </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">353325</span><span class="p">,</span><span class="w">
          </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card_last_digits"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card_first_digits"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"capture_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ecommerce"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pagar.me"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234 5678"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-21T02:00:00.664Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api_key"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"179.191.82.50"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"antifraud_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
          </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="mi">1452787601000</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_index"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pagarme"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"353324"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transaction"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"waiting_payment"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"refuse_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"status_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acquirer"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"acquirer_response_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"acquirer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"development"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"authorization_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"soft_descriptor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"tid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-14T16:06:16.000Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-14T16:06:16.000Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">19000</span><span class="p">,</span><span class="w">
          </span><span class="nt">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">353324</span><span class="p">,</span><span class="w">
          </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card_last_digits"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card_first_digits"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"postback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boleto"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"capture_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ecommerce"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"antifraud_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"boleto_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pagar.me"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"boleto_barcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234 5678"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"boleto_expiration_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-21T02:00:00.080Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"referer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api_key"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"179.191.82.50"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"subscription_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"antifraud_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
          </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="mi">1452787576000</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>api_key</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Chave da API (disponível no seu dashboard)</td>
</tr>
<tr>
<td style="text-align: right"><strong>type</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Objeto a ser buscado na base de dados, você pode buscar por qualquer objeto existente na API.<br> <strong>Ex</strong>: <code class="prettyprint">transaction</code>, <code class="prettyprint">subscription</code> ou <code class="prettyprint">bank_account</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>query</strong></td>
<td style="text-align: left">Filtros a serem utilizados para obtenção dos resultados esperados. Veja mais sobre as buscas no Elasticsearch <a href="http://www.elastic.co/guide/en/elasticsearch/reference/current//search.html">aqui</a></td>
</tr>
<tr>
<td style="text-align: right"><strong>search_type</strong></td>
<td style="text-align: left">Informa o tipo de busca que deve ser feita na base de dados. Mais sobre tipos de pesquisa <a href="http://www.elastic.co/guide/en/elasticsearch/reference/current//search-request-search-type.html">aqui</a></td>
</tr>
</tbody></table><div name="codigos-postais" data-unique="codigos-postais"></div></yay>
VM119:14 <yay><h2 id="consulta-de-cep">Consulta de CEP</h2><blockquote>
<p>GET https://api.pagar.me/1/zipcodes/:zipcode</p>
</blockquote><pre class="highlight shell" style="display: block;"><code>curl -X GET https://api.pagar.me/1/zipcodes/01452001
</code></pre><pre class="highlight ruby" style="display: none;"><code></code></pre><pre class="highlight php" style="display: none;"><code></code></pre><pre class="highlight csharp" style="display: none;"><code></code></pre><p>Com essa rota você pode verificar os dados de um determinado CEP.</p><blockquote>
<p>JSON Retornado (Exemplo)</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"neighborhood"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jardim Paulistano"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Avenida Brigadeiro Faria Lima"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01452001"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><table><thead>
<tr>
<th style="text-align: right">Parâmetro</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>:zipcode</strong><br> <span class="required">obrigatório</span></td>
<td style="text-align: left">Código postal (CEP) que você deseja buscar informações</td>
</tr>
</tbody></table><div name="erros" data-unique="erros"></div></yay>
VM119:14 <yay><h2 id="erros-da-api">Erros da API</h2><blockquote>
<p>Exemplo:</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invalid_parameter"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"parameter_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api_key"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api_key está faltando"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/transactions"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"get"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><p>Os possíveis erros retornados da API são:</p><ul>
<li><p><code class="prettyprint">invalid_parameter</code>: quando algum parâmetro passado está incorreto/faltando.</p></li>
<li><p><code class="prettyprint">action_forbidden</code>: quando o usuário não tem permissão para fazer determinada ação.</p></li>
<li><p><code class="prettyprint">internal_error</code>: quando algum erro interno em nosso servidor ocorreu.</p></li>
<li><p><code class="prettyprint">not_found</code>: quando o recurso procurado não foi encontrado/não existe.</p></li>
</ul><div name="erros-na-geracao-do-card_hash" data-unique="erros-na-geracao-do-card_hash"></div></yay>
VM119:14 <yay><h2 id="erros-na-geracao-do-card_hash">Erros na geração do card_hash</h2><blockquote>
<p>Exemplo:</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"card_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Número do cartão inválido."</span><span class="p">,</span><span class="w">
   </span><span class="nt">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do portador inválido."</span><span class="p">,</span><span class="w">
   </span><span class="nt">"card_expiration_month"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mês de expiração inválido."</span><span class="p">,</span><span class="w">
   </span><span class="nt">"card_expiration_year"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ano de expiração inválido."</span><span class="p">,</span><span class="w">
   </span><span class="nt">"card_cvv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Código de segurança inválido."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><p>Antes do <code class="prettyprint">card_hash</code> ser criado, é verificado se os dados do cartão estão corretos, caso algum item esteja errado, será retornado um objeto com todos os valores incorretos.</p><div name="analises-antifraude" data-unique="analises-antifraude"></div></yay>
VM119:14 <yay><h2 id="objeto-antifraud_analysis">Objeto <code class="prettyprint">antifraud_analysis</code></h2><blockquote>
<p>Objeto antifraud_analysis</p>
</blockquote><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-10T12:31:13.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03110T12:31:13.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">99999</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clearsale"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"antifraud_analysis"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"score"</span><span class="p">:</span><span class="w"> </span><span class="mf">31.39</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"approved"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><p>Objeto retornado após a análise antifraude feita em uma transação. Toda vez que uma transação é criada e você está com seu sistema de antifraude ativo, ela passa pela análise antifraude de todos antifraudes ativos para sua empresa, para cada análise dessa, um novo objeto <code class="prettyprint">antifraud_analysis</code> é criado.</p><table><thead>
<tr>
<th style="text-align: right">Propriedade</th>
<th style="text-align: left">Descrição</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>object</strong><br> String</td>
<td style="text-align: left">Nome do tipo do objeto criado/modificado. <br> <strong>Valor retornado</strong>: <code class="prettyprint">antifraud_analysis</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>name</strong><br> String</td>
<td style="text-align: left">Nome do antifraude utilizado</td>
</tr>
<tr>
<td style="text-align: right"><strong>score</strong><br> Number</td>
<td style="text-align: left">pontuação, de 0 a 100, da probabilidade de fraude na transação realizada</td>
</tr>
<tr>
<td style="text-align: right"><strong>cost</strong><br> Number</td>
<td style="text-align: left">Custo da análise antifraude</td>
</tr>
<tr>
<td style="text-align: right"><strong>status</strong><br> String</td>
<td style="text-align: left">Possíveis valores de estado para as análises antifraude: <code class="prettyprint">processing</code>, <code class="prettyprint">approved</code>, <code class="prettyprint">refused</code> e <code class="prettyprint">failed</code></td>
</tr>
<tr>
<td style="text-align: right"><strong>date_created</strong><br> String</td>
<td style="text-align: left">Data de criação da transação no formato ISODate</td>
</tr>
<tr>
<td style="text-align: right"><strong>date_updated</strong><br> String</td>
<td style="text-align: left">Data de atualização da transação no formato ISODate</td>
</tr>
<tr>
<td style="text-align: right"><strong>id</strong><br> Number</td>
<td style="text-align: left">Número identificador da análise antifraude</td>
</tr>
</tbody></table><div name="usuario" data-unique="usuario"></div></yay>
</body>
</html>